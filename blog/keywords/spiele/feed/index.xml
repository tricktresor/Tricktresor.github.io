<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:series="https://publishpress.com/"
	>

<channel>
	<title>Spiele Archive - Tricktresor</title>
	<atom:link href="/blog/keywords/spiele/feed/" rel="self" type="application/rss+xml" />
	<link></link>
	<description>Tipps und Tricks zu SAP R/3</description>
	<lastBuildDate>Thu, 08 Aug 2019 09:09:03 +0000</lastBuildDate>
	<language>de-DE</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.4.3</generator>

<image>
	<url>/wp-content/uploads/2019/02/cropped-Tricktresor-favicon-2019-32x32.png</url>
	<title>Spiele Archive - Tricktresor</title>
	<link></link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Tentactics &#8211; Puzzle Game</title>
		<link>/blog/tentactics-puzzle-game/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Fri, 15 Apr 2016 09:00:00 +0000</pubDate>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[ABAP OO]]></category>
		<category><![CDATA[cl_gui_alv_grid]]></category>
		<category><![CDATA[game]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">https://tricktresor.com/?p=578841</guid>

					<description><![CDATA[<p>Seit einiger Zeit fesselt mich das simple Puzzlespiel Numberama2, das f√ºr iOS im Appstore verf√ºgbar ist. Neben dem Spielen habe ich mir auch Gedanken dar√ºber gemacht, wie man das wohl am einfachsten programmieren k√∂nnte. In diesem Artikel pr√§sentiere ich dir das Ergebnis meiner Bem√ºhungen. Viel Spa√ü!</p>
<p>Der Beitrag <a href="/blog/tentactics-puzzle-game/">Tentactics &#8211; Puzzle Game</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Seit einiger Zeit fesselt mich das¬†simple Puzzlespiel <a href="https://itunes.apple.com/de/app/numberama-2/id581489308?mt=8">Numberama2</a>, das f√ºr iOS im Appstore verf√ºgbar ist. Neben dem Spielen habe ich mir auch Gedanken dar√ºber gemacht, wie man das wohl am einfachsten programmieren k√∂nnte. Ich hatte dann eine Idee, die ich leider doch verwerfen musste. Am Ende ist das Spiel deutlich komplexer und aufw√§ndiger geworden, als ich dachte. So ist das halt h√§ufig&#8230;</p>
<h2>Gameplay</h2>
<p>Gespielt wird auf einem 9 Spielfelder breiten und nach unten offenem Spielfeld. Die Spielfelder werden gleichm√§√üig mit Zahlen von 1 bis 9 aufgef√ºllt. Nun gilt es, Paare zu finden. Ein g√ºltiges Paar sind zwei Zahlen, die</p>
<ul style="list-style-type: square;">
<li>direkt neben-, oder untereinander stehen</li>
<li>Ohne andere Zahlen neben- oder untereinander stehen</li>
<li>in einer Reihe rechts aufh√∂ren und in der n√§chsten Reihe links wieder beginnen</li>
</ul>
<p>Paare m√ºssen folgende Eigenschaften haben:</p>
<ul style="list-style-type: square;">
<li>Die Summe muss 10 ergeben (1 + 9, 2 + 8 usw)</li>
<li>Die Zahlen m√ºssen gleich sein (1 + 1, 2 + 2 usw)</li>
</ul>
<p>Die Zahlen g√ºltiger Paare k√∂nnen angeklickt und dadurch vom Spielfeld entfernt werden.</p>
<p>Ziel des Spieles ist es, alle Zahlen zu l√∂schen.</p>
<p>Ausgangsbasis sind Zufallszahlen (random mode) oder die Startreihe (classic mode)</p>
<pre>123456789
111213141
516171819</pre>
<p><a href="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-04-33.jpg"><img decoding="async" class="alignnone size-full wp-image-578844" src="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-04-33.jpg" alt="2016-03-28_17-04-33" width="251" height="199" /></a></p>
<p>Sind alle Paare gefunden, dann muss der &#8220;Next&#8221; Button gedr√ºckt werden. Hierdurch werden allen verbliebenen Zahlen ohne L√ºcken an die vorhandenen Zahlen angeh√§ngt. Dadurch ergeben sich wieder neue Kombinationsm√∂glichkeiten.</p>
<p>Man startet mit einer Punktzahl von 1000. Jedes eliminierte Zahlenpaar verringert die Punktzahl um 5. Gel√∂schte Reihen erh√∂hen die Punktzahl um 10.</p>
<p>Die Punktzahl ist jedoch meiner Meinung nach nebens√§chlich. Es ist schon schwer genug, die Zahlen zu eliminieren.</p>
<h2>Der Name</h2>
<p>Eigentlich wollte ich &#8211; da es sich um eine Programmieraufgabe mit ABAP handelt &#8211; das Spiel NUMBERABAP nennen. Zwischendurch fiel mir jedoch der Name TENTACTICS ein, den ich deutlich spannender finde. TEN in Anlehnung an das Spielprinzip, dass die Summe der Paare 10 ergeben muss und TACTICS, da man durchaus taktisch agieren muss, um alle Zahlen zu eliminieren. Und Alliterationen sind immer gut.</p>
<h2>Programmbeschreibung</h2>
<p>Die erste Idee, um das Spielprinzip abbilden zu k√∂nnen, war die Verwendung einer internen Tabelle mit den Feldern</p>
<ul style="list-style-type: square;">
<li>number</li>
<li>column</li>
<li>row</li>
</ul>
<p>und zwei Indizes:</p>
<ul style="list-style-type: square;">
<li>column &#8211; row</li>
<li>row &#8211; column</li>
</ul>
<p>So w√§re es einfach, Paare zu finden, denn diese m√ºssen entweder im einen oder im anderen Index direkt &#8220;nebeneinander&#8221; liegen.</p>
<p>Leider brauchte ich nat√ºrlich zus√§tzlich eine Tabelle f√ºr das Spielfeld. Die verschiedenen Zugvariationen machten es schwierig, beide Tabellen auf dem gleichen Stand zu halten. Deswegen habe ich in der zweiten Version nur mit dem Spielfeld als &#8220;Zahlenspeicher&#8221; gearbeitet. F√ºr die L√∂sungssuche bin ich dann allerdings wieder auf die erste Programmidee zur√ºck gekommen.</p>
<p>Die L√∂sungssuche funktioniert nicht zuverl√§ssig, denn die Idee mit den &#8220;nebeneinander&#8221; liegenden Zahlen war zwar gut, findet aber nicht alle m√∂glichen Paare. Um alle Paare zuverl√§ssig identifizieren zu k√∂nnen, m√ºsste man oben links im Spielfeld beginnen und jede Zahl der Reihe nach nach m√∂glichen Kombinationen (nach oben, unten, rechts und links) absuchen.</p>
<p>Das Spielfeld ist ein simples ALV-Grid mit einer kleinen Besonderheit: Die Klasse CL_GUI_ALV_GRID habe ich abgeleitet und um die¬†Methode SET_NO_RESIZE erweitert. Diese ruft die gesch√ºtzte Methode SET_RESIZE_COLS( 0 ) auf, mit der die Gr√∂√üen√§nderung der Spalten verhindert wird.</p>
<p>Ich habe bei der Programmierung mit &#8220;Buttons&#8221; und &#8220;Links&#8221; experimentiert und bin zu dem Schluss gekommen, dass die Buttons am besten aussehen.¬†Die Links sind alle unterstrichen und das machte die Zahlen un√ºbersichtlich.</p>
<h2>Spieltipps<a href="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-05-03.jpg"><img decoding="async" class="size-full wp-image-578843 alignright" src="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-05-03.jpg" alt="2016-03-28_17-05-03" width="144" height="167" /></a></h2>
<p>Eliminiere zuerst die eindeutigen Paare, also Zahlen, die direkt nebeneinander stehen und bei denen es nur eine L√∂sungsm√∂glichkeit gibt.</p>
<p>Dreier-Kombinationen lasse au√üen vor und versuche bessere Paare au√üen herum zu finden, so dass es eine passende vierte Zahl in Frage kommt.</p>
<p>Auch bei eindeutigen Paaren darauf achten, ob es eventuell Kombinationen gibt, die besser vorher gel√∂st werden sollten. In folgendem Beispiel sind ZWEI Paare versteckt. Offensichtlich sind die zwei Vieren ganz links. Weniger offensichtlich, jedoch besser (da man zwei Paare l√∂st), ist es, die Vier oben rechts mit der Vier aus der n√§chsten Reihe zu l√∂sen und gleiches in der folgenden Zeile.</p>
<pre>1 2 3 4 5 6 7 8 4
4 5   5 6 5 6 4
4 7 1 8   1     7
  8 4 7 1 3 9</pre>
<p>Der Button &#8220;Check&#8221; pr√ºft, wie viele Paare noch vorhanden sind und gibt Hinweise darauf, wo sich noch Paare verstecken.</p>
<p>Eventuell ist es besser, nicht alle m√∂glichen Paare zu l√∂schen, sondern schon vorher den NEXT-Button zu bet√§tigen.</p>
<h2>Known Bugs</h2>
<p>Es wird nicht erkannt, ob das Spiel zu Ende ist.</p>
<p>Ich dachte, dass es nur m√∂glich w√§re, h√∂chstens eine Zeile zur Zeit zu eliminieren. Das stimmt nicht, es k√∂nnen auch zwei Zeilen gel√∂scht werden. In folgender Konstellation bilden die beiden Vieren ein Paar und k√∂nnen gel√∂scht werden. Dadurch werden auch die beiden Zeilen gel√∂scht:</p>
<pre>1 2 3 4 5 6 7 8 9
              4  
3 4 5 6 7 8     2
              4
1 7             5</pre>
<p>Wie bereits oben beschrieben, ist die L√∂sungssuche nicht 100% zuverl√§ssig. Einige Paare werden nicht korrekt erkannt.</p>
<h2>Unterschiede zum Original</h2>
<p>Du wirst nicht durch einen blinkenden NEXT-Button dar√ºber informiert, dass es keine Z√ºge mehr gibt. Dies w√§re noch leicht einzubauen.</p>
<p>Du bekommst Hinweise, wo sich noch Paare verstecken. Das ist leider in der Originalversion nicht so und hat mich schon manches Mal zur Verzweiflung getrieben.</p>
<p>Der gr√∂√üte Unterschied ist jedoch, dass dieses Spiel in ABAP geschrieben wurde. <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f609.png" alt="üòâ" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<h2>How To Start</h2>
<p>Lege ein neues Programm in der Transaktion SE38 an und kopiere den Code von TENTACTICS Editor und aktiviere das Programm. F√ºhre das Programm aus und w√§hle den Spielmodus &#8220;Classic&#8221; oder &#8220;Random&#8221;. Dr√ºcke &lt;ENTER&gt; um das Spiel zu starten (NICHT Ausf√ºhren!).</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-06-06.jpg"><img fetchpriority="high" decoding="async" class="alignnone size-full wp-image-578842" src="https://tricktresor.com/wp-content/uploads/2016/04/2016-03-28_17-06-06.jpg" alt="2016-03-28_17-06-06" width="268" height="331" srcset="/wp-content/uploads/2016/04/2016-03-28_17-06-06.jpg 268w, /wp-content/uploads/2016/04/2016-03-28_17-06-06-243x300.jpg 243w" sizes="(max-width: 268px) 100vw, 268px" /></a></p>
<h2>Quelltext</h2>
<p>Hier gibt es den Quelltext zum Download:¬†<a href="https://tricktresor.com/wp-content/uploads/2016/04/tentactics.abap_.txt">tentactics.abap</a></p>
<p>Der Beitrag <a href="/blog/tentactics-puzzle-game/">Tentactics &#8211; Puzzle Game</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Gamification</title>
		<link>/blog/gamification/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Fri, 19 Aug 2011 15:11:42 +0000</pubDate>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[Tricktresor]]></category>
		<category><![CDATA[LINKS]]></category>
		<category><![CDATA[SAPGUI]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=615</guid>

					<description><![CDATA[<p>Mit "Gamification" ist ein neues Schlagwort in der (SAP-) Welt aufgetaucht. Es gibt wohl zwei Grundgedanken. Erstens: Worin genau sind Gamer eigentlich gut? Zweitens: Wie kann man in der Gesch&#228;ftswelt diesen Spielegedanken umsetzen, so dass die Mitarbeiter Spa&#223; an der Arbeit haben und zudem hoch konzentriert sind?</p>
<p>Der Beitrag <a href="/blog/gamification/">Gamification</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Mit &#8220;Gamification&#8221; ist ein neues Schlagwort in der (SAP-) Welt aufgetaucht. Es gibt wohl zwei Grundgedanken. Erstens: Worin genau sind Gamer eigentlich gut? Zweitens: Wie kann man in der Gesch√§ftswelt diesen Spielegedanken umsetzen, so dass die Mitarbeiter Spa√ü an der Arbeit haben und zudem hoch konzentriert sind?</p>
<p class="head1">Turning Work Into Play</p>
<p><img decoding="async" src="/wp-content/uploads/tt_images/blog/Bild554.jpg" alt="" /></p>
<p>Heute bin ich √ºber das Stichwort &#8220;Gamification&#8221; gestolpert. Und zwar auf der Internetseite von Anton Hartl. (Die Seite und Artikel sind leider nicht mehr online. Hier der Link auf die aktuelle Internetpr√§senz:¬†<a href="http://www.stacknoise.com/" target="_blank">http://www.stacknoise.com/</a>)</p>
<p><img decoding="async" src="/wp-content/uploads/tt_images/blog/Bild557.jpg" alt="" /></p>
<p>Auf der Seite sind Links zu dem Thema &#8220;Gamification&#8221;. Ich habe mir mal die Pr√§sentation von<strong> Jane McGonigal¬†&#8220;Videospiele f√ºr eine bessere Welt&#8221;</strong>¬†angeschaut &#8211; welche ich sehr spannend fand. Sie geht der Frage nach, warum verbringen Gamer so viel Zeit damit, virtuelle Aufgaben zu l√∂sen? Wie kann man es schaffen, diese Energie, Hartn√§ckigkeit und Aufmerksamkeit in die Arbeitswelt zu √ºbertragen? K√∂nnte man dies nur ansatzweise schaffen, w√§re das eine Produktivit√§tssteigerung sondergleichen. <strong>McGonigal </strong>erz√§hlt, dass alle Spieler bei World of Warcraft bisher 5,93 Millionen Jahre damit zugebracht haben, die Fantasiewelt Azeroth zu beleben. In einem Land, in dem viel Videospiele gespielt werden, wird ein Spieler <strong>bis zum 21. Lebensjahr 10.000 Stunden</strong> mit Videospielen zugebracht haben. Das ist in etwa die gleiche Menge an Stunden, die dem Unterricht einer amerikanischen High School entspricht!</p>
<p class="head1">UI &#8211; User Interface</p>
<p>Anton Hartl besch√§ftigt sich mit der Implementierung einer vision√§ren Benutzeroberfl√§che f√ºr SAP. Ziel ist es, ausgew√§hlte SAP-Funktionalit√§ten in grafischen Benutzeroberfl√§chen zu pr√§sentieren, die man bisher nur aus CSI New York oder Avatar kannte.Danach einen kurzen Chat mit Anton Hartl gehabt, der mir ein bisschen √ºber das Projekt erz√§hlt hat.</p>
<p>Er ist gerade¬†dabei, mit Partnern Prototypen¬†f√ºr so eine zuk√ºnftige UI zu erstellen. Den SAPGUI wird es allerdings wohl auch in Zukunft geben, denn die Visualisierung von Fakten und¬†Bearbeitung auf 55&#8243; Touch Screens wird wohl nur bei einigen Spezialanwendungen Sinn machen.</p>
<p class="head1">Turn User Into Fans</p>
<p>Ich finde es schon interessant, wenn ich mir vorstelle, dass¬†der Mitarbeiter meiner Lieblingstelefongesellschaft mich erst dann anruft, wenn er gegen seine Kollegen im Tarifdschungelmemory gewonnen hat oder erst, sobald er 7800 Telefongespr√§chserfahrungspunkte gesammelt hat!</p>
<p><img decoding="async" src="/wp-content/uploads/tt_images/blog/Bild559.jpg" alt="" /></p>
<p>Nein, mal Ernst beiseite&#8230;</p>
<p>Auf den ersten Blick betrachtet macht eine &#8220;spielerische Oberfl√§che&#8221; oder auch eine &#8220;Virtualisierung der Arbeit&#8221; wahrscheinlich keinen Sinn. Auf den zweiten Blick jedoch, macht es durchaus Sinn, die Benutzerfreundlichkeit und Intuitive Erfassung¬†von Funktionalit√§ten an erste Stelle zu setzen. Und auch wenn eine bunte verspielte Oberfl√§che &#8211; bei der ich vielleicht noch meinen Avatar selbst gestalten kann &#8211; in einem ERP-System merkw√ºrdig anmutet: Es w√§re wirklich fahrl√§ssig, das was auch immer die Jugend von heute beim Spielen mit der Wii oder der Playstation lernt, nicht zu nutzen.</p>
<p>Ich kann mir gut vorstellen, dass Leute, die einen Kundenauftrag mit einer &#8220;Spiele-Oberfl√§che&#8221;¬†eingeben m√ºsssen wahrscheinlich eher noch nebenbei chatten und parallel dazu noch effektive Routenplanung machen k√∂nnen.</p>
<p>Exceltabellen werden aber wohl so schnell nicht von der Bildfl√§che verschwinden&#8230;</p>
<p>Ich bin jedenfalls gespannt, wie es weiter geht!</p>
<p class="head1">Links</p>
<p class="head2">Jane McGonigal (Deutsche Untertitel zuschaltbar!)</p>
<p><a href="http://www.ted.com/talks/lang/eng/jane_mcgonigal_gaming_can_make_a_better_world.html" target="_blank">http://www.ted.com/talks/lang/eng/jane_mcgonigal_<br />
gaming_can_make_a_better_world.html</a></p>
<p class="head2">Homepage Anton Hartl</p>
<p><a href="http://www.stacknoise.com/" target="_blank">http://www.stacknoise.com/</a></p>
<p>Der Beitrag <a href="/blog/gamification/">Gamification</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Flood filler</title>
		<link>/blog/flood-filler/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Thu, 02 Dec 2010 23:16:38 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=569</guid>

					<description><![CDATA[<p>Ein geniales Spiel, welches man gegen den Computer spielen kann. Ziel des Spiels ist es, m&#246;glichst viel der Spielfl&#228;che f&#252;r sich zu ergattern. man f&#228;ngt in der linken unteren Ecke an und kann dann durch geschickte Farbwahl sein Areal vergr&#246;&#223;ern.</p>
<p>Der Beitrag <a href="/blog/flood-filler/">Flood filler</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Ein geniales Spiel, welches man gegen den Computer spielen kann. Ziel des Spiels ist es, m&ouml;glichst viel der Spielfl&auml;che f&uuml;r sich zu ergattern. man f&auml;ngt in der linken unteren Ecke an und kann dann durch geschickte Farbwahl sein Areal vergr&ouml;&szlig;ern.<br /><P>Man kann dabei immer nur eine Farbe w&auml;hlen, die erstens an das eigene Areal angrenzt und zweitens muss es eine andere Farbe sein, als die die der Gegner hat.</P><P>Das Spiel wurde von Andrey Markin aus einem alten DOS-Spiel adaptiert. Hier der Link zum Code im SDN:</P><P><A href="http://wiki.sdn.sap.com/wiki/display/Snippets/Filler%20(Turn-base%20strategy%20game)" Target="_blank">http://wiki.sdn.sap.com/wiki/display/Snippets/Filler%20(Turn-base%20strategy%20game)</A></P><P>Und <A href="downloads/filler_abap.txt" target="_blank" Target="_blank">hier</A> der Download als Textdatei.</P><P><IMG src="/wp-content/uploads/tt_images/spiele/eck_filler.jpg"></P><P>Viel Spa&szlig;!!</P></p>
<p>Der Beitrag <a href="/blog/flood-filler/">Flood filler</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Bubble-la-Bap</title>
		<link>/blog/bubble-la-bap/</link>
					<comments>/blog/bubble-la-bap/#comments</comments>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Mon, 17 Dec 2007 11:02:22 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[style]]></category>
		<category><![CDATA[Download]]></category>
		<category><![CDATA[abap]]></category>
		<category><![CDATA[LINKS]]></category>
		<category><![CDATA[Spiele]]></category>
		<category><![CDATA[GUI]]></category>
		<category><![CDATA[color]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=447</guid>

					<description><![CDATA[<p>Das Spiel "Jawbreaker" mit neuer Grafik-Engine und kompletter Undo-Funktion. Bubble-La-Bap ist ein Wortspiel mit "Bubbles", dem Originalnamen auf Windows(R)-Mobile-Ger&#228;ten, "ABAP" und "Papperlapapp". Viel Spa&#223;! ACHTUNG: SUCHTGEFAHR!!!</p>
<p>Der Beitrag <a href="/blog/bubble-la-bap/">Bubble-la-Bap</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Das Spiel &#8220;Jawbreaker&#8221; mit neuer Grafik-Engine und kompletter Undo-Funktion. Bubble-La-Bap ist ein Wortspiel mit &#8220;Bubbles&#8221;, dem Originalnamen auf Windows(R)-Mobile-Ger√§ten, &#8220;ABAP&#8221; und &#8220;Papperlapapp&#8221;. Viel Spa√ü! ACHTUNG: SUCHTGEFAHR!!!</p>
<h2 class="head1">Beschreibung</h2>
<p class="text1">Bei &#8220;Bubble-La-Bap&#8221;¬†m√ºssen die &#8220;B√§lle&#8221; zum platzen gebracht werden. Sobald mindestens zwei gleichfarbige B√§lle neben- oder √ºbereinander stehen, k√∂nnen diese angeklickt und &#8220;aufgel√∂st&#8221; werden. Die dar√ºber liegenden B√§lle rutschen nach unten und nach rechts nach. Beim Spielmodus &#8220;fortlaufend&#8221;¬†werden leere Spalten von links wieder aufgef√ºllt.</p>
<p class="text1">Je mehr B√§lle zusammen aufgel√∂st¬†werden, umso mehr Punkte gibt es. F√ºr zwei B√§lle gibt es nur vier Punkte, f√ºr neun B√§lle schon 72&#8230;</p>
<p class="text1">Das Spiel wurde unter Release ERP 5.0 geschrieben, sollte aber ab Version 4.6C lauff√§hig sein.</p>
<h2 class="head1">Screenshot</h2>
<p><img decoding="async" src="https://tricktresor.com/wp-content/uploads/tt_images/spiele/bubblelabap1.jpg" alt="" />¬† <img decoding="async" src="https://tricktresor.com/wp-content/uploads/tt_images/spiele/bubblelabap2.jpg" alt="" /></p>
<h2 class="head1">Vorbereitungen</h2>
<h3 class="head2">GUI-Status 0100</h3>
<p class="text1">Der GUI-Status &#8216;0100&#8217; muss angelegt werden. Funktionstasten:</p>
<ul>
<li>
<div class="text1"><strong>NEW</strong> &#8211; Neues Spiel &#8211; F8</div>
</li>
<li>
<div class="text1"><strong>UNDO</strong> &#8211; Zug r√ºckg√§ngig &#8211; F5</div>
</li>
</ul>
<h3 class="head2">Dynpro</h3>
<p>Dynpro 100 muss angelegt werden mit dem CustomContainer &#8220;CC_FIELDS&#8221; der Gr√∂√üe 60 x 20.</p>
<h3 class="head2">Ablauflogik</h3>
<p class="sap1">PROCESS BEFORE OUTPUT.<br />
MODULE STATUS_0100.<br />
*<br />
PROCESS AFTER INPUT.<br />
MODULE USER_COMMAND_0100.</p>
<h2 class="head1">Coding</h2>
<p class="text1"><a title="Bubble-la-Bap | Games" href="https://tricktresor.com/wp-content/downloads/bubblelabap.txt" target="_blank">Der Quelltext zum Download hier</a></p>
<p class="head1">Anpassungen an andere Releases</p>
<p class="head2">Release 4.7</p>
<p class="text1">Type-Pool WRFAC ist nicht vorhanden. Deswegen muss die dort verwendete Konstante WRFAC_STYLE_COLOR_NEGATIVE lokal definiert werden:</p>
<p class="sap1">DATA¬†wrfac_style_color_negative(4) TYPE x VALUE &#8216;00000007&#8217;.</p>
<p class="text1">
<p>Der Beitrag <a href="/blog/bubble-la-bap/">Bubble-la-Bap</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>/blog/bubble-la-bap/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
			</item>
		<item>
		<title>Zahlenzauber</title>
		<link>/blog/zahlenzauber/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Fri, 22 Sep 2006 16:55:16 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=381</guid>

					<description><![CDATA[<p>Hier ein kleiner Zahlenzauber von Stefan Mett. Wer den Quelltext entr&#228;tseln kann, kommt vielleicht hinter das Geheimnis...</p>
<p>Der Beitrag <a href="/blog/zahlenzauber/">Zahlenzauber</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Hier ein kleiner Zahlenzauber von Stefan Mett. Wer den Quelltext entr&auml;tseln kann, kommt vielleicht hinter das Geheimnis&#8230;<br /><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp; Report Z_SM_FUN&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;&nbsp;Von Stefan Mett&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR></FONT>REPORT&nbsp; Z_SM_FUN.<BR>Data: g_zaehler Type i, g_icon Type icon_d, g_text(2) Type C, g_text2(2)<BR>&nbsp;Type C, g_space(5) Type C, g_wizard type icon_d, g_divide type f,<BR>g_frac type f, g_magic(2) TYPE C, g_sum Type f, g_rnd type i,<BR>gf_stamp(11) type p decimals 7,gf_stamp2(11) type p decimals 7,<BR>gf_ergeb type n, gf_sekbt(2) type n, gf_hilf(22) type n,<BR>g_char1(1) type C, g_char2(1) type C. g_space = &#8216;&nbsp;&nbsp;&nbsp;&nbsp; &#8216;.<BR>g_zaehler = 0. g_wizard = &#8216;@BY@&#8217;. get time stamp field gf_stamp. write<BR>gf_stamp to gf_hilf. move gf_hilf+16(2) to gf_sekbt. while gf_sekbt &gt;=<BR>15. get time stamp field gf_stamp. write gf_stamp to gf_hilf. move<BR>gf_hilf+16(2) to gf_sekbt. endwhile. case gf_sekbt+0(1).&nbsp;&nbsp; when 1.<BR>g_char1 = &#8216;A&#8217;.&nbsp;&nbsp;&nbsp; when 2. g_char1 = &#8216;B&#8217;.&nbsp; when 3.&nbsp; g_char1<BR>=&#8217;C&#8217;.&nbsp; when 4.&nbsp; g_char1 = &#8216;D&#8217;.&nbsp; when 5.&nbsp; g_char1 = &#8216;E&#8217;.&nbsp; when 6. g_char1<BR>&nbsp;= &#8216;F&#8217;.&nbsp; when 7.&nbsp; g_char1 = &#8216;G&#8217;.&nbsp; when 8.&nbsp; g_char1 = &#8216;H&#8217;.&nbsp; when 9<BR>. g_char1 = &#8216;I&#8217;.&nbsp; when 10.&nbsp; g_char1 = &#8216;J&#8217;.&nbsp;&nbsp;&nbsp; when 11.&nbsp; g_char1 = &#8216;K&#8217;.<BR>when 12.&nbsp; g_char1 = &#8216;L&#8217;.&nbsp; when 13.&nbsp; g_char1 = &#8216;M&#8217;.&nbsp; when 14.&nbsp; g_char1 =<BR>&#8216;N&#8217;.&nbsp; when 15.&nbsp; g_char1 = &#8216;O&#8217;.&nbsp; when 0.&nbsp; g_char1 = &#8216;P&#8217;.endcase. case<BR>gf_sekbt+1(1).&nbsp;&nbsp; when 1.&nbsp; g_char2 = &#8216;A&#8217;.&nbsp;&nbsp;&nbsp; when 2.&nbsp; g_char2 = &#8216;B&#8217;.<BR>when 3.&nbsp; g_char2 =<BR>&nbsp;&#8216;C&#8217;.&nbsp; when 4.&nbsp; g_char2 = &#8216;D&#8217;.&nbsp; when 5.&nbsp; g_char2 = &#8216;E&#8217;.&nbsp; when 6. g_char2<BR>&nbsp;= &#8216;F&#8217;.&nbsp; when 7.&nbsp; g_char2 = &#8216;G&#8217;.&nbsp; when 8.&nbsp; g_char2 = &#8216;H&#8217;.&nbsp; when 9<BR>.&nbsp; g_char2 = &#8216;I&#8217;.&nbsp; when 10.&nbsp; g_char2 = &#8216;J&#8217;.&nbsp;&nbsp;&nbsp; when 11.&nbsp; g_char2 = &#8216;K&#8217;.<BR>when 12.&nbsp; g_char2 = &#8216;L&#8217;.&nbsp; when 13.&nbsp; g_char2 = &#8216;M&#8217;.&nbsp; when 14.&nbsp; g_char2 =<BR>&#8216;N&#8217;.&nbsp; when 15.&nbsp; g_char2 = &#8216;O&#8217;.&nbsp; when 0.&nbsp; g_char2 = &#8216;F&#8217;. endcase.<BR>while g_zaehler &lt; 100. g_divide = g_zaehler / 9. g_frac = frac( g_divide<BR>&nbsp;).<BR>get time stamp field gf_stamp. write gf_stamp to gf_hilf. move<BR>gf_hilf+16(2) to gf_sekbt. gf_stamp = gf_stamp2. while gf_stamp =<BR>gf_stamp2.&nbsp;&nbsp; get time stamp field gf_stamp2. endwhile. g_text2 =<BR>g_zaehler.<BR>*if g_zaehler &lt;= 10. *&nbsp; concatenate &#8216;0&#8217; gf_sekbt into g_text. *endif. *<BR>if g_frac is initial. concatenate g_char1 g_char2 into gf_sekbt.<BR>g_magic = gf_sekbt. endif.<BR>concatenate &#8216;@&#8217; gf_sekbt &#8216;@&#8217; into g_icon.&nbsp;&nbsp; Write:&nbsp; G_icon, g_text2,<BR>g_space. if g_zaehler = 4 or g_zaehler = 9 or g_zaehler = 14 or<BR>g_zaehler = 19 or<BR>&nbsp;g_zaehler = 24 or g_zaehler = 29 or g_zaehler = 34 or g_zaehler = 39 or<BR>&nbsp;g_zaehler = 44 or g_zaehler = 49 or g_zaehler = 54 or g_zaehler = 59 or<BR>&nbsp;g_zaehler = 64 or g_zaehler = 69 or g_zaehler = 74 or g_zaehler = 79 or<BR>&nbsp;g_zaehler = 84 or g_zaehler = 89 or g_zaehler = 94 or g_zaehler = 99.<BR>write : /. endif. g_zaehler = g_zaehler + 1. endwhile.<BR>Write : / &#8216;Denken Sie siche eine beliebige zweistellige Zahl.&#8217;.<BR>write :&nbsp; &#8216;Z&auml;hlen Sie dann die zwei Ziffern zusammen und ziehen&#8217;.<BR>&nbsp;write : / &#8216;Sie das Ergebnis von der urspr&uuml;nglichen Zahl ab.&#8217;.<BR>&nbsp;write :&nbsp; &#8216;Suchen Sie dann das zum Ergebnis passende Symbol in&#8217;.<BR>&nbsp;write :&nbsp; &#8216;der Tabelle und konzentrieren Sie sich auf dieses.&#8217;.<BR>&nbsp;write : / &#8216;Klicken sie dann hier &#8212;&gt;&gt;&#8217;. write:&nbsp; g_wizard hotspot on.<BR>write:&nbsp; &#8216;&lt;&lt;&#8212;&#8216;.<BR>AT LINE-SELECTION.&nbsp;&nbsp; PERFORM line_selection.<BR>FORM line_selection.&nbsp;&nbsp; DATA: l_icon TYPE icon_d,<BR>l_iconm type icon_d.<BR>concatenate &#8216;@&#8217; g_magic &#8216;@&#8217; into l_iconm.&nbsp;&nbsp; READ LINE sy-lilli FIELD<BR>VALUE g_wizard&nbsp;&nbsp;&nbsp; INTO l_icon.&nbsp;&nbsp;&nbsp;&nbsp; FORMAT COLOR COL_HEADING INTENSIFIED<BR>ON.&nbsp;&nbsp;&nbsp;&nbsp; write: /.write: /.write: /.write: /.write: /.write: /.&nbsp;&nbsp;&nbsp;&nbsp; write<BR>: &#8216;SIE HABEN SICH FOLGENDES SYMBOL AUSGESUCHT: &#8216;.&nbsp;&nbsp;&nbsp;&nbsp; write: l_iconm.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write: /.write: /.write: /.write: /.write: /.write: /.&nbsp;&nbsp;&nbsp;&nbsp; write:<BR>/ &#8216;Unglaublich nicht wahr?&#8217;. ENDFORM.</P></p>
<p>Der Beitrag <a href="/blog/zahlenzauber/">Zahlenzauber</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Apfelm√§nnchen</title>
		<link>/blog/apfelmaennchen/</link>
					<comments>/blog/apfelmaennchen/#respond</comments>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Thu, 07 Oct 2004 16:36:28 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=291</guid>

					<description><![CDATA[<p>Ein Apfelm&#228;nnchen f&#252;r R/3. Grafisch nicht umwerfend, aber das Prinzip funktioniert. Allzu lange Laufzeiten entstehen auch nicht, da die Bildgr&#246;&#223;e sehr beschr&#228;nkt ist. </p>
<p>Der Beitrag <a href="/blog/apfelmaennchen/">Apfelm√§nnchen</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Ein Apfelm√§nnchen f√ºr R/3. Grafisch nicht umwerfend, aber das Prinzip funktioniert. Allzu lange Laufzeiten entstehen auch nicht, da die Bildgr√∂√üe sehr beschr√§nkt ist.</p>
<p class="text1">Auf dem Startbildschirm m√ºssen Sie die mathematischen Eingrenzungen vornehmen:</p>
<p><img decoding="async" src="/wp-content/uploads/tt_images/spiele/fraktal1.gif" /></p>
<p>Starten Sie das Programm und Sie erhalten eine √§hnliche¬†Grafik wie hier:<img decoding="async" src="/wp-content/uploads/tt_images/spiele/fraktal2.gif" /></p>
<h2>Parameter</h2>
<p class="text1">Folgende Parameter bringen auf jeden Fall brauchbare Ergebnisse:</p>
<p class="sap1">A-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†1,4000000-<br />
A-Max¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†1,0000000<br />
B-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†2,0000000-<br />
Iterationen¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†5</p>
<p class="sap1">A-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,1200000-<br />
A-Max¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,7200000<br />
B-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,5000000-<br />
Anzahl Iterationen¬†¬† ¬†¬†¬†¬†¬†¬† 15</p>
<p class="sap1">A-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,1200000-<br />
A-Max¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,7200000<br />
B-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† ¬†¬† 0,0030000-<br />
Anzahl Iterationen¬†¬†¬†¬†¬†¬†¬†¬†¬† 10</p>
<p class="sap1">A-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,5000000-<br />
A-Max¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,9000000<br />
B-Min¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† 0,7000000-<br />
Anzahl Iterationen¬†¬†¬† ¬†¬†¬†¬†¬† 16</p>
<h2 class="head1">Das Coding</h2>
<pre class="sap1">REPORT zz_fraktal NO STANDARD PAGE HEADING LINE-SIZE 500 LINE-COUNT 500.
<span style="color: #fb2412;">**********************************************************************
***¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† ***
***¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† </span><a href="https://tricktresor.com/" target="_blank" rel="noopener noreferrer"><span style="color: #fb2412;">https://tricktresor.com/</span></a><span style="color: #fb2412;">¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† ***
***¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† ***
**********************************************************************
*--------------------------------------------------------------------*
* Autor: Enno Wulff
* Datum: Oktober 2004
*--------------------------------------------------------------------*
*
* Das Programm erzeugt eine Apfelm√§nnchen-Grafik
*
* Die Anzahl der Iterationen sollte nicht gr√∂√üer sein als 100, denn
* je mehr Iterationen ausgef√ºhrt werden, desto l√§nger dauert die
* Berechnung. Aufgrund der schlechten grafischen Verh√§ltnisse werden
* jedoch keine besseren Ergebnisse mehr erzielt.
* Zwischen 5 und 50 Iterationen werden sehr unterschiedliche
* Ergebnisse erzielt.
* Mein Dank gilt Dietmar Gr√§tzer dessen "praktische Einf√ºhrung" zum
* Thema "Fraktale und Chaos" mir geholfen hat, die Programmierung in
* ABAP zu realisieren.
*
* Das Dokument sowie viele andere Informationen k√∂nnen unter
*
*¬†¬† </span><a href="http://www.fraktale-online.de/" target="_blank" rel="noopener noreferrer"><span style="color: #fb2412;">http://www.fraktale-online.de/</span></a>
<span style="color: #fb2412;">*
* abgerufen werden.
*
*--------------------------------------------------------------------*</span>

DATA:
aschritt TYPE f,
bschritt TYPE f,
sx¬†¬†¬†¬†¬†¬† TYPE i,
zy¬†¬†¬†¬†¬†¬† TYPE i,
a¬†¬†¬†¬†¬†¬†¬† TYPE f,
b¬†¬†¬†¬†¬†¬†¬† TYPE f,
x¬†¬†¬†¬†¬†¬†¬† TYPE f,
y¬†¬†¬†¬†¬†¬†¬† TYPE f,
n¬†¬†¬†¬†¬†¬†¬† TYPE f,
n0¬†¬†¬†¬†¬†¬† TYPE f,
n1¬†¬†¬†¬†¬†¬† TYPE i,
n2¬†¬†¬†¬†¬†¬† TYPE f,
xx¬†¬†¬†¬†¬†¬† TYPE f,
z1¬†¬†¬†¬†¬†¬† TYPE f,
bmax¬†¬†¬†¬† TYPE i.

PARAMETERS:
p_scrbr(3) TYPE n,
px(3)¬†¬†¬†¬†¬† TYPE n DEFAULT 200,
py(3)¬†¬†¬†¬†¬† TYPE n DEFAULT 70,
p_modcol¬†¬† RADIOBUTTON GROUP mod DEFAULT 'X',
p_modchr¬†¬† RADIOBUTTON GROUP mod,
amin(8)¬†¬†¬† TYPE p DECIMALS 7 DEFAULT '2-',
amax(8)¬†¬†¬† TYPE p DECIMALS 7 DEFAULT '1',
bmin(8)¬†¬†¬† TYPE p DECIMALS 7 DEFAULT '1-',
nmax(4)¬†¬†¬† TYPE n DEFAULT 20. "Anzahl Iterationen

AT SELECTION-SCREEN OUTPUT.

<span style="color: #fb2412;">*-- Aktuelle sichtbare Breite des Bildschirms</span>
p_scrbr = sy-scols - 2.

<span style="color: #fb2412;">*-- Feld "Sichtbare Breite" auf "nur anzeigen" stellen</span>
LOOP AT SCREEN.
IF screen-name = 'P_SCRBR'.
screen-input = '0'.
MODIFY SCREEN.
ENDIF.
ENDLOOP.

START-OF-SELECTION.

<span style="color: #fb2412;">*-- Init</span>
SET BLANK LINES ON.
WRITE AT /(px) space NO-GAP.

¬† bmax = 2 / 3 * ( amax - amin ) + bmin.

¬† aschritt = ( amax - amin ) / px.¬†¬†¬†¬†¬†¬† "Schrittweite
bschritt = ( bmax - bmin ) / py.

<span style="color: #fb2412;">*-- Berechnung der Mandelbrot-Menge</span>
DO px TIMES.
sx = sy-index. "BildschirmSpalten
a = amin + sx * aschritt.
DO py TIMES.¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† "BildschirmZeilen
zy = sy-index.
b = bmax - zy * bschritt.
x = 0.
y = 0.¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† "Startwert z0=0
DO nmax TIMES.¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† "Iteration
n = sy-index.
xx = x * x - y * y + a.¬†¬†¬†¬†¬†¬†¬† "Hilfsgroesse
y = 2 * x * y + b.¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† "Imaginaerteil
x = xx.¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† "Realteil
z1 = x * x + y * y.
IF z1 &gt; 4.
n0 = n.
<span style="color: #fb2412;">* Der Punkt c = (a, b) gehoert nicht zur Mandelbrot-Menge</span>
EXIT.
ENDIF.
ENDDO. "n
<span style="color: #fb2412;">* Punktausgabe</span>
n1 = n0 / 2.
n2 = n0 / 2.
IF n1 = n2.
PERFORM pset USING sx zy 1.
"Darstellung der Niveaulinien
z1 = x * x + y * y.
IF z1 &lt;= 4.
PERFORM pset USING sx zy y.
"Der Punkt c = (a, b) gehoert zur Mandelbrot-Menge
ENDIF.
ELSE.
z1 = x * x + y * y.
IF z1 &lt;= 4.
PERFORM pset USING sx zy y.
"Der Punkt c = (a, b) gehoert zur Mandelbrot-Menge
ENDIF.
ENDIF.
ENDDO. " zy
ENDDO." sx

<span style="color: #fb2412;">*---------------------------------------------------------------------*
*¬†¬†¬†¬†¬†¬† FORM punkt_setzen¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† *
*---------------------------------------------------------------------*</span>
FORM pset USING fx fy farbe TYPE f.

¬† DATA:
l_char¬† TYPE c,
l_farbe TYPE i,
l_abcde(26),
l_intens(1) TYPE n.

SKIP TO LINE fy.
POSITION fx.

¬† IF p_modchr = 'X'.
<span style="color: #fb2412;">*** Setzen des Punktes als Zeichen ***</span>
l_farbe = abs( farbe ) * 10.
l_abcde = sy-abcde.
SHIFT l_abcde BY l_farbe PLACES LEFT CIRCULAR.
l_char = l_abcde+0(1).
WRITE l_char NO-GAP.

¬† ELSE.
<span style="color: #fb2412;">*** Setzen eines farbigen "Punktes"</span>
IF farbe &lt; 0.
l_intens = 0.
ELSE.
l_intens = 1.
ENDIF.

¬†¬†¬† l_farbe = abs( farbe ) * 15.
IF l_farbe = 0.
l_farbe = 6.
ENDIF.
WRITE '¬† ' COLOR = l_farbe INTENSIFIED = l_intens.

¬† ENDIF.

ENDFORM.</pre>
<p>Der Beitrag <a href="/blog/apfelmaennchen/">Apfelm√§nnchen</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>/blog/apfelmaennchen/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Minesweeper</title>
		<link>/blog/minesweeper/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Tue, 05 Oct 2004 18:14:50 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=290</guid>

					<description><![CDATA[<p>Das bekannte Spiel Minesweeper in der SAP-Version. Leider ist alles in spanisch gehalten. F&#252;r das Spielen ist es nicht relevant, aber im Sourcecode ist es schon merkw&#252;rdig, wenn man nicht weiss, wof&#252;r ein Variablenname stehen k&#246;nnte...</p>
<p>Der Beitrag <a href="/blog/minesweeper/">Minesweeper</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Das bekannte Spiel Minesweeper in der SAP-Version. Leider ist alles in spanisch gehalten. F&uuml;r das Spielen ist es nicht relevant, aber im Sourcecode ist es schon merkw&uuml;rdig, wenn man nicht weiss, wof&uuml;r ein Variablenname stehen k&ouml;nnte&#8230;<br /><P><TABLE class="tblimg" cellPadding="0" align="left"><TBODY><TR><TD vAlign="top"><P><IMG src="/wp-content/uploads/tt_images/spiele/minesweeper.gif"><BR>Minesweeper</P></TD></TR></TBODY></TABLE></P><P class="sap1">REPORT zz_minesweeper .<BR>*&amp;==============================================================<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Developed by ROMAN LOPEZ NAVARRO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <A href="http://personales.com/espana/madrid/abap/" target="_blank" Target="_blank">http://personales.com/espana/madrid/abap/</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <A href="http://www.geocities.com/romlopabap/" target="_blank" Target="_blank">http://www.geocities.com/romlopabap/</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;==============================================================<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp; Report ZBUSCAMIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Una celda marcada como bomba &#8216; B &#8216; no admite ser marcada como detecta-<BR>* da &#8216; D &#8216; ya que implicitamente esta detectada.<BR>* Una vez que el juego acabo no se muestran mas mensajes aunque si se<BR>* permite seguir explorando las celdas ocultas.<BR>* Si algunas de las celdas marcadas como detectadas son incorrectas, es-<BR>* tas se muestran en un nuevo listado.<BR>* Evidentemente NUM_BOMB debe ser superior o igual a MAX_HERI.<BR>* El boton que aparece debajo del tablero indica la accion actual del<BR>* usuario, y que puede ser una de las dos siguientes:<BR>* 1.- &lt;pisando bombas&gt; : La casilla se marca con el numero de bombas que<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rodean a dicha casilla.<BR>* 2.- &lt;marcando bombas&gt;: La casilla se marca con una &lt; D &gt; (aunque el<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jugador se haya equivocado y no haya bomba).<BR>* Para marcar bombas (detectar bombas) hay que hacer clic en el boton<BR>* hasta que aparezca el texto &#8216;&lt;marcando bombas&gt;&#8217;.<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</P><P class="sap1">INCLUDE &lt;icon&gt;.</P><P class="sap1">CONSTANTS:<BR>&nbsp; line_ini TYPE i VALUE 2,&#8221;&nbsp;&nbsp; Primera linea de comienzo de escritura<BR>&nbsp; posini TYPE i VALUE 4,&#8221;&nbsp;&nbsp;&nbsp;&nbsp; Justificacion a la izquierda del tablero<BR>&nbsp; filas TYPE i VALUE 10,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Numero de filas del tablero<BR>&nbsp; columnas TYPE i VALUE 10,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Numero de columnas del tablero<BR>&nbsp; bomba(3) VALUE &#8216; B &#8216;,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Simbolo para la bomba<BR>&nbsp; detect(3) VALUE &#8216; D &#8216;,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Simbolo para bomba detectada<BR>&nbsp; line_msg TYPE i VALUE 25,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Numero de linea para los mensajes<BR>&nbsp; line_boton TYPE i VALUE 27,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Numero de linea para el boton<BR>&nbsp; boton_on(17)&nbsp; VALUE &#8216;&lt;pisando&nbsp; bombas&gt;&#8217;,<BR>&nbsp; boton_off(17) VALUE &#8216;&lt;marcando bombas&gt;&#8217;,<BR>&nbsp; icon_on&nbsp; LIKE icons-l2 VALUE <A href="mailto:'@1A@'" target="_blank" Target="_blank">&#8216;@1A@&#8217;</A>,<BR>&nbsp; icon_off LIKE icons-l2 VALUE <A href="mailto:'@1C@'" target="_blank" Target="_blank">&#8216;@1C@&#8217;</A>,<BR>&nbsp; icon_err LIKE icont-id VALUE <A href="mailto:'@3C@'" target="_blank" Target="_blank">&#8216;@3C@&#8217;</A>.<BR>DATA:<BR>&nbsp; msg_1(45),&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mensaje<BR>&nbsp; game_over,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Flag de partida terminada<BR>&nbsp; str_tmp(255),&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Variable string temporal<BR>&nbsp; boton(17),&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Texto del boton<BR>&nbsp; icon_boton LIKE icont-id,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Icono adjunto al boton<BR>&nbsp; conta_radar TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Contador de bombas limitrofes a la celda<BR>&nbsp; conta_heridas TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Contador de errores<BR>&nbsp; conta_detect TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Contador de celdas marcadas como detectadas<BR>&nbsp; conta_general TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conta_detect + conta_heridas<BR>&nbsp; cell_name LIKE dd03d-fieldname,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nombre de una celda<BR>&nbsp; fila&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fila de una celda<BR>&nbsp; columna&nbsp;&nbsp; TYPE i,&#8221;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Columna de una celda<BR>&nbsp; fila_char2(2),<BR>&nbsp; columna_char2(2).</P><P class="sap1">DATA:<BR>&nbsp; BEGIN OF itab_let,<BR>&nbsp;&nbsp;&nbsp; 1(3), 2(3), 3(3), 4(3), 5(3), 6(3), 7(3), 8(3), 9(3), 10(3),<BR>&nbsp; END OF itab_let,</P><P class="sap1">* Estructura con todas las celdas del tablero<BR>&nbsp; BEGIN OF itab,<BR>&nbsp;&nbsp;&nbsp; 1 LIKE itab_let, 2 LIKE itab_let, 3 LIKE itab_let,<BR>&nbsp;&nbsp;&nbsp; 4 LIKE itab_let, 5 LIKE itab_let, 6 LIKE itab_let,<BR>&nbsp;&nbsp;&nbsp; 7 LIKE itab_let, 8 LIKE itab_let, 9 LIKE itab_let,<BR>&nbsp;&nbsp;&nbsp; 10 LIKE itab_let,<BR>&nbsp; END OF itab,</P><P class="sap1">* Estructura con las bombas pisadas</P><P class="sap1">&nbsp; bis_itab LIKE itab,</P><P class="sap1">* Estructura con todas las bombas calculadas iniciales</P><P class="sap1">&nbsp; bomb_itab LIKE itab.<BR>FIELD-SYMBOLS: &lt;fs1&gt;, &lt;fs2&gt;, &lt;fs3&gt;, &lt;fs4&gt;.<BR>SELECTION-SCREEN BEGIN OF BLOCK bloque1 WITH FRAME TITLE titulo1.<BR>SELECTION-SCREEN: BEGIN OF LINE,<BR>&nbsp; COMMENT 1(16) coment1,<BR>&nbsp; POSITION 20.<BR>PARAMETERS num_bomb(2) TYPE n DEFAULT 15.<BR>SELECTION-SCREEN END OF LINE.<BR>SELECTION-SCREEN: BEGIN OF LINE,<BR>&nbsp; COMMENT 1(18) coment2.<BR>POSITION 20.<BR>PARAMETERS max_heri(2) TYPE n DEFAULT 1.<BR>SELECTION-SCREEN END OF LINE.<BR>SELECTION-SCREEN END OF BLOCK bloque1.</P><P class="sap1">************************************************************************<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INITIALIZATION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>************************************************************************</P><P class="sap1">INITIALIZATION.<BR>&nbsp; titulo1 = &#8216;Opciones de usuario&#8217;.<BR>&nbsp; coment1 = &#8216;Numero de bombas&#8217;.<BR>&nbsp; coment2 = &#8216;Errores permitidos&#8217;.</P><P class="sap1">************************************************************************<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; START-OF-SELECTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>************************************************************************</P><P class="sap1">START-OF-SELECTION.<BR>&nbsp; PERFORM display_tablero.<BR>&nbsp; PERFORM asignar_bombas.</P><P class="sap1">************************************************************************<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT LINE-OF-SELECTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>************************************************************************</P><P class="sap1">AT LINE-SELECTION.<BR>&nbsp; GET CURSOR FIELD cell_name.</P><P class="sap1">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cambiar el texto del&nbsp; boton&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*<BR>* Solo se permite si la partida no ha terminado. Cuando una partida ha<BR>* terminado el boton queda permanentemente en estado ON.</P><P class="sap1">&nbsp; IF cell_name = &#8216;BOTON&#8217; AND game_over IS INITIAL.<BR>&nbsp;&nbsp;&nbsp; PERFORM change_boton.<BR>&nbsp; ENDIF.</P><P class="sap1">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*<BR>*&nbsp;&nbsp;&nbsp;&nbsp; Obtener el valor de la celda seleccionada en todas las tablas *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">&nbsp; CHECK cell_name CS &#8216;ITAB-&#8216;.<BR>&nbsp; ASSIGN (cell_name) TO &lt;fs1&gt;.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- Tabla tablero actual<BR>&nbsp; CONCATENATE &#8216;BIS_&#8217; cell_name INTO str_tmp.<BR>&nbsp; ASSIGN (str_tmp) TO &lt;fs2&gt;.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Tabla bombas pisadas<BR>&nbsp; CONCATENATE &#8216;BOMB_&#8217; cell_name INTO str_tmp.<BR>&nbsp; ASSIGN (str_tmp) TO &lt;fs3&gt;.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212; Tabla con todas las bombas<BR>&nbsp; SUBTRACT 1 FROM sy-lsind.</P><P class="sap1">*&amp;====================================================================&amp;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Detectar bomba&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Marcar con una &#8216;D&#8217; la celda seleccionada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;*<BR>*&amp;====================================================================&amp;*</P><P class="sap1">&nbsp; IF boton = boton_off.</P><P class="sap1">*&nbsp;&nbsp; Si el juego ha terminado no permitir detectar mas bombas (para evi-<BR>*&nbsp;&nbsp; tar mensajes cruzados de la rutina de deteccion). Sobra, porque el<BR>*&nbsp;&nbsp; boton solo puede estar en OFF si la partida no ha acabado.<BR>*&nbsp;&nbsp; CHECK GAME_OVER IS INITIAL.<BR>*&nbsp;&nbsp; Comprobar que no es una bomba ya pisada ni ya detectada</P><P class="sap1">&nbsp;&nbsp;&nbsp; CHECK &lt;fs1&gt; NE bomba AND &lt;fs1&gt; NE detect.<BR>&nbsp;&nbsp;&nbsp; MODIFY LINE sy-lilli FIELD VALUE&nbsp; &lt;fs1&gt; FROM detect<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT &lt;fs1&gt; COLOR col_positive.<BR>&nbsp;&nbsp;&nbsp; &lt;fs1&gt; = detect.<BR>&nbsp;&nbsp;&nbsp; ADD 1 TO conta_detect.<BR>&nbsp;&nbsp;&nbsp; conta_general = conta_heridas + conta_detect.<BR>&nbsp;&nbsp;&nbsp; IF conta_general = num_bomb.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM check_success.<BR>&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp; EXIT.<BR>&nbsp; ENDIF.<BR>*&amp;====================================================================&amp;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pisar celdas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;*<BR>*&amp;&nbsp; Muestra si la celda es una bomba o bien las bombas que la rodean&nbsp; &amp;*<BR>*&amp;====================================================================&amp;*</P><P class="sap1">&nbsp; IF &lt;fs1&gt; = detect. SUBTRACT 1 FROM conta_detect. ENDIF.</P><P class="sap1">* Si la celda es una bomba, marcarla con una &#8216; B &#8216;</P><P class="sap1">&nbsp; IF &lt;fs3&gt; = bomba.<BR>&nbsp;&nbsp;&nbsp; PERFORM x_bomba.</P><P class="sap1">* Si la celda no es una bomba, mostrar las bombas limitrofes</P><P class="sap1">&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp; PERFORM obtain_coordenadas.<BR>&nbsp;&nbsp;&nbsp; PERFORM obtain_limits.<BR>&nbsp; ENDIF.<BR>&nbsp; SET CURSOR 0 0.</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; DISPLAY_TABLERO<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</P><P class="sap1">FORM display_tablero.<BR>&nbsp; DATA: cablet(255), longitud TYPE i, numfila(2), n TYPE i.<BR>&nbsp; SKIP TO LINE line_ini.<BR>&nbsp; cablet = &#8216;&nbsp; | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10|&#8217;.<BR>&nbsp; longitud = strlen( cablet ).<BR>&nbsp; WRITE AT posini cablet.<BR>&nbsp; ULINE AT /posini(longitud).<BR>&nbsp; NEW-LINE.</P><P class="sap1">&nbsp; DO filas TIMES.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-&nbsp; filas<BR>&nbsp;&nbsp;&nbsp; MOVE sy-index TO numfila.<BR>&nbsp;&nbsp;&nbsp; ASSIGN COMPONENT sy-index OF STRUCTURE itab TO &lt;fs1&gt;.<BR>&nbsp;&nbsp;&nbsp; POSITION posini.<BR>&nbsp;&nbsp;&nbsp; WRITE: numfila NO-GAP RIGHT-JUSTIFIED.<BR>&nbsp;&nbsp;&nbsp; WRITE: sy-vline NO-GAP.</P><P class="sap1">&nbsp;&nbsp;&nbsp; DO columnas TIMES.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;&nbsp;&nbsp; columnas<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASSIGN COMPONENT sy-index OF STRUCTURE &lt;fs1&gt; TO &lt;fs2&gt;.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE: &lt;fs2&gt; HOTSPOT NO-GAP,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sy-vline NO-GAP.<BR>&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp;&nbsp;&nbsp; ULINE AT /posini(longitud). NEW-LINE.<BR>&nbsp; ENDDO.</P><P class="sap1">&nbsp; SKIP TO LINE line_msg.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&nbsp; mensaje<BR>&nbsp; msg_1 = &#8216;Bombas pisadas: 0&nbsp; &#8216;.<BR>&nbsp; WRITE AT: posini msg_1 INTENSIFIED OFF,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sy-linsz space.<BR>&nbsp; SKIP 1.<BR>&nbsp; icon_boton = icon_on.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; Icono del boton<BR>&nbsp; WRITE AT posini icon_boton AS ICON.<BR>&nbsp; boton = boton_on.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Texto del boton<BR>&nbsp; CLEAR n.<BR>&nbsp; n = posini + 4.<BR>&nbsp; WRITE AT n boton HOTSPOT COLOR COL_TOTAL.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; DISPLAY_TABLERO</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; ASIGNAR_BOMBAS<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Llena la tabla BOMB_ITAB con las bombas calculadas<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</P><P class="sap1">FORM asignar_bombas.<BR>&nbsp; DATA: char2(2) TYPE c, fieldname(255), conta_bombas TYPE i.</P><P class="sap1">&nbsp; PERFORM ini_semilla.<BR>&nbsp; WHILE conta_bombas LT num_bomb.</P><P class="sap1">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Fila</P><P class="sap1">&nbsp;&nbsp;&nbsp; CALL FUNCTION &#8216;QF05_RANDOM_INTEGER&#8217;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_max = 10<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_min = 1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int&nbsp;&nbsp;&nbsp;&nbsp; = fila<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXCEPTIONS<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 2.<BR>&nbsp;&nbsp;&nbsp; MOVE fila TO char2.<BR>&nbsp;&nbsp;&nbsp; CONCATENATE &#8216;BOMB_ITAB-&#8216; char2 INTO fieldname.</P><P class="sap1">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Columna</P><P class="sap1">&nbsp;&nbsp;&nbsp; CALL FUNCTION &#8216;QF05_RANDOM_INTEGER&#8217;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_max = 10<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_min = 1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int&nbsp;&nbsp;&nbsp;&nbsp; = columna<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXCEPTIONS<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 1.<BR>&nbsp;&nbsp;&nbsp; MOVE columna TO char2.<BR>&nbsp;&nbsp;&nbsp; CONCATENATE fieldname &#8216;-&#8216; char2 INTO fieldname.</P><P class="sap1">&nbsp;&nbsp;&nbsp; ASSIGN (fieldname) TO &lt;fs1&gt;.<BR>&nbsp;&nbsp;&nbsp; IF &lt;fs1&gt; IS INITIAL.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;fs1&gt; = bomba.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADD 1 TO conta_bombas.<BR>&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp; ENDWHILE.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; ASIGNAR_BOMBAS</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; INI_SEMILLA<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Asegura que la semilla sera aleatoria.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM ini_semilla.<BR>&nbsp; DO 5 TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CALL FUNCTION &#8216;QF05_RANDOM_INTEGER&#8217;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RAN_INT_MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 10<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RAN_INT_MIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RAN_INT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = fila<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXCEPTIONS<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 2.<BR>&nbsp; ENDDO.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; INI_SEMILLA</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; OBTAIN_COORDENADAS<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</P><P class="sap1">FORM obtain_coordenadas.</P><P class="sap1">&nbsp; DATA&nbsp; string_componentes LIKE dd03d-fieldname OCCURS 0.<BR>&nbsp; SPLIT cell_name AT &#8216;-&#8216; INTO TABLE string_componentes.<BR>&nbsp; READ TABLE string_componentes INDEX 2 INTO fila.<BR>&nbsp; READ TABLE string_componentes INDEX 3 INTO columna.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; OBTAIN_COORDENADAS</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; OBTAIN_LIMITS<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Averigua si las celdas limitrofes a la seleccionada tienen una bomba.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM obtain_limits.</P><P class="sap1">&nbsp; CLEAR conta_radar.</P><P class="sap1">* Celda N</P><P class="sap1">&nbsp; fila_char2&nbsp;&nbsp;&nbsp; = fila &#8211; 1.<BR>&nbsp; columna_char2 = columna.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda NW</P><P class="sap1">&nbsp; fila_char2 = fila &#8211; 1.<BR>&nbsp; columna_char2 = columna &#8211; 1.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda NE</P><P class="sap1">&nbsp; fila_char2 = fila &#8211; 1.<BR>&nbsp; columna_char2 = columna + 1.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda S</P><P class="sap1">&nbsp; fila_char2 = fila + 1.<BR>&nbsp; columna_char2 = columna.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda SW</P><P class="sap1">&nbsp; fila_char2 = fila + 1.<BR>&nbsp; columna_char2 = columna &#8211; 1.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda SE</P><P class="sap1">&nbsp; fila_char2 = fila + 1.<BR>&nbsp; columna_char2 = columna + 1.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda E</P><P class="sap1"><BR>&nbsp; fila_char2 = fila.<BR>&nbsp; columna_char2 = columna &#8211; 1.<BR>&nbsp; PERFORM radar.</P><P class="sap1">* Celda W</P><P class="sap1">&nbsp; fila_char2 = fila.<BR>&nbsp; columna_char2 = columna + 1.<BR>&nbsp; PERFORM radar.<BR>&nbsp; &lt;fs1&gt; = conta_radar.<BR>&nbsp; MODIFY LINE sy-lilli FIELD VALUE &lt;fs1&gt;&nbsp; FROM conta_radar<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT &lt;fs1&gt; COLOR col_total.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; OBTAIN_LIMITS</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; RADAR<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Averigua si la celda pasada es una bomba.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM radar.</P><P class="sap1">&nbsp; CHECK fila_char2 NE &#8216;0&#8217;&nbsp; AND columna_char2 NE &#8216;0&#8217;&nbsp; AND<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fila_char2 NE &#8217;11&#8217; AND columna_char2 NE &#8217;11&#8217;.<BR>&nbsp; CONCATENATE &#8216;BOMB_ITAB-&#8216; fila_char2 &#8216;-&#8216; columna_char2 INTO str_tmp.<BR>&nbsp; ASSIGN (str_tmp) TO &lt;fs3&gt;.<BR>&nbsp; IF &lt;fs3&gt; = bomba. ADD 1 TO conta_radar. ENDIF.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; RADAR</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; X_BOMBA<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Marca la bomba en el tablero y muestra el mensaje correspondiente.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM x_bomba.<BR>&nbsp; DATA conta_char(3).</P><P class="sap1">* Compruebo que la bomba no ha sido pisada con anterioridad</P><P class="sap1">&nbsp; CHECK &lt;fs1&gt; NE bomba.</P><P class="sap1">* Marcar la bomba en el tablero</P><P class="sap1">&nbsp; &lt;fs1&gt; = bomba.<BR>&nbsp; MODIFY LINE sy-lilli FIELD VALUE &lt;fs1&gt;&nbsp; FROM &lt;fs1&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT &lt;fs1&gt; COLOR col_negative.</P><P class="sap1">* Seguir solo si la partida no esta acabada</P><P class="sap1">&nbsp; CHECK game_over IS INITIAL.<BR>&nbsp; ADD 1 TO conta_heridas.<BR>&nbsp; MOVE conta_heridas TO conta_char.<BR>&nbsp; CONCATENATE &#8216;Bombas pisadas: &#8216; conta_char INTO msg_1.<BR>&nbsp; CLEAR sy-lisel.<BR>&nbsp; MODIFY LINE line_msg FIELD VALUE msg_1.</P><P class="sap1">&nbsp; IF conta_heridas = max_heri.<BR>&nbsp;&nbsp;&nbsp; msg_1 =&nbsp; &#8216;Has pisado demasiadas bombas!&#8217;.<BR>&nbsp;&nbsp;&nbsp; MODIFY LINE line_msg FIELD VALUE msg_1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT msg_1 COLOR col_negative<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVERSE.<BR>&nbsp;&nbsp;&nbsp; game_over = &#8216;X&#8217;.<BR>&nbsp; ENDIF.</P><P class="sap1">&nbsp; conta_general = conta_heridas + conta_detect.<BR>&nbsp; IF conta_general = num_bomb.<BR>&nbsp;&nbsp;&nbsp; PERFORM check_success.<BR>&nbsp; ENDIF.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; X_BOMBA</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; CHANGE_BOTON<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* Cambia el titulo del boton de BOTON_ON a BOTON_OFF y vicevera.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM change_boton.</P><P class="sap1">&nbsp; DATA: boton_tmp LIKE boton, color_tmp TYPE i, new_icon LIKE<BR>icons-l2.</P><P class="sap1">&nbsp; CASE boton.<BR>&nbsp;&nbsp;&nbsp; WHEN boton_on.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boton = boton_off. new_icon = icon_off. color_tmp = 5.<BR>&nbsp;&nbsp;&nbsp; WHEN boton_off.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boton = boton_on. new_icon = icon_on. color_tmp = 3.<BR>&nbsp; ENDCASE.</P><P class="sap1">&nbsp; WRITE boton TO boton_tmp.<BR>&nbsp; icon_prepare_for_modify new_icon.</P><P class="sap1">&nbsp; MODIFY LINE line_boton FIELD VALUE boton FROM boton_tmp<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; icon_boton FROM new_icon<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT boton COLOR = color_tmp.</P><P class="sap1">&nbsp; SET CURSOR 1 1.<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; CHANGE_BOTON</P><P class="sap1">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; CHECK_SUCCESS<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* La partida ha terminado. Comprueba si se ha ganado.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">FORM check_success.</P><P class="sap1">&nbsp; DATA: n TYPE i, m TYPE i, fila_tmp TYPE i, columna_tmp TYPE i,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fila_tmp_float TYPE f, fila_char3(3), columna_char3(3),<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new_icon LIKE icons-l2.<BR>&nbsp; FIELD-SYMBOLS: &lt;fs5&gt;, &lt;fs6&gt;.<BR>&nbsp; n = filas * columnas.</P><P class="sap1">* Para mostrar un NUEVO listado con las detecciones incorrectas.</P><P class="sap1">&nbsp; ADD 1 TO sy-lsind.</P><P class="sap1">* &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>* FILA_TMP y COLUMNA_TMP guardan las coordenadas de la celda a partir de<BR>* su posicion absoluta (SY-INDEX)<BR>* Por ejemplo, el campo 19 esta en la segunda fila, novena columna; para<BR>* un total de 10 filas y 10 columnas.<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*</P><P class="sap1">&nbsp; DO n TIMES.<BR>&nbsp;&nbsp;&nbsp; fila_tmp_float = sy-index / columnas.<BR>&nbsp;&nbsp;&nbsp; fila_tmp = ceil( fila_tmp_float ).<BR>&nbsp;&nbsp;&nbsp; columna_tmp = sy-index &#8211; ( columnas * fila_tmp ) + columnas.<BR>&nbsp;&nbsp;&nbsp; MOVE: fila_tmp TO fila_char3, columna_tmp TO columna_char3.<BR>&nbsp;&nbsp;&nbsp; CONCATENATE &#8216;ITAB-&#8216; fila_char3 &#8216;-&#8216; columna_char3<BR>&nbsp;&nbsp;&nbsp; INTO str_tmp.<BR>&nbsp;&nbsp;&nbsp; CONDENSE str_tmp NO-GAPS.<BR>&nbsp;&nbsp;&nbsp; ASSIGN (str_tmp) TO &lt;fs6&gt;.</P><P class="sap1">*&nbsp;&nbsp; Se comprueba que la celda que se ha se¬§alado como &#8216;D&#8217; &#8211; Detectada,<BR>*&nbsp;&nbsp; realmente contiene una bomba.</P><P class="sap1">&nbsp;&nbsp;&nbsp; IF &lt;fs6&gt; = detect.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONCATENATE &#8216;BOMB_ITAB-&#8216; fila_char3 &#8216;-&#8216; columna_char3<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INTO str_tmp.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONDENSE str_tmp NO-GAPS.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASSIGN (str_tmp) TO &lt;fs5&gt;.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF &lt;fs5&gt; NE bomba.</P><P class="sap1">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mensaje(s) de celda(s) incorrecta(s) en nuevo listado.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONCATENATE &#8216;La celda &#8216; fila_char3 &#8216;-&#8216; columna_char3<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8216; no contenia ninguna bomba&#8217; INTO str_tmp.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE str_tmp.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; msg_1 = &#8216;Has perdido! Juega otra vez&#8217;.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY LINE line_msg FIELD VALUE msg_1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT msg_1 COLOR col_negative<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVERSE.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; game_over = &#8216;X&#8217;.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212; Partida acabada<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp; ENDDO.</P><P class="sap1">* Se pone el boton a ON (para no permitir detectar mas bombas tanto si<BR>* la partida se ha ganado como si se ha perdido)</P><P class="sap1">&nbsp; new_icon = icon_on.<BR>&nbsp; icon_prepare_for_modify new_icon.<BR>&nbsp; boton = boton_on.<BR>&nbsp; CLEAR sy-lisel.<BR>&nbsp; MODIFY LINE line_boton FIELD VALUE&nbsp; icon_boton FROM new_icon<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boton<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT boton COLOR = 3.</P><P class="sap1">* Mensaje de partida ganada (no se erro ninguna celda detectada)</P><P class="sap1">&nbsp; CHECK game_over IS INITIAL.<BR>&nbsp; msg_1 = &#8216;Enhorabuena! Ganaste la partida&#8217;.<BR>&nbsp; MODIFY LINE line_msg FIELD VALUE&nbsp; msg_1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIELD FORMAT msg_1 COLOR col_positive INVERSE.<BR>&nbsp; game_over = &#8216;X&#8217;.&#8221; &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;- Partida acabada<BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8221; CHECK_SUCCESS</P><P>&nbsp;</P></p>
<p>Der Beitrag <a href="/blog/minesweeper/">Minesweeper</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Jawbreaker</title>
		<link>/blog/jawbreaker/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Tue, 05 Oct 2004 17:49:37 +0000</pubDate>
				<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Spiele]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=289</guid>

					<description><![CDATA[<p>Das auf dem Pocket-PC unter dem Titel Jawbreaker bekannte Spiel habe ich als ABAP-Programm realisiert. Ziel des Spieles ist es, durch "wegklicken" zusammenh&#228;ngender Steine, das Spielfeld zu leeren und m&#246;glichst viele Punkte zu bekommen. Sie k&#246;nnen die Spielfeldgr&#246;&#223;e und die Anzahl der Farben selbst bestimmten. </p>
<p>Der Beitrag <a href="/blog/jawbreaker/">Jawbreaker</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Das auf dem Pocket-PC unter dem Titel Jawbreaker bekannte Spiel habe ich als ABAP-Programm realisiert. Ziel des Spieles ist es, durch &#8220;wegklicken&#8221; zusammenh&auml;ngender Steine, das Spielfeld zu leeren und m&ouml;glichst viele Punkte zu bekommen. Sie k&ouml;nnen die Spielfeldgr&ouml;&szlig;e und die Anzahl der Farben selbst bestimmten. <br /><P><FONT color="#fb2412">NEU&nbsp;</FONT> Jetzt auch mit dem Spielmodus &#8220;Fortlaufend&#8221; und R&uuml;ckg&auml;ngig-Funktion</P><FONT color="#fb2412"><P><TABLE class="tblimg" cellPadding="0" align="left"><TBODY><TR><TD vAlign="top"><P><IMG src="/wp-content/uploads/tt_images/spiele/jawbreaker.gif"><BR>Die ABAP-Variante von Jawbreaker</P></TD></TR></TBODY></TABLE></FONT><FONT color="#fb2412"></FONT></P><P class="sap1"><FONT color="#fb2412">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>* Report&nbsp; ZZ_JAWBREAKER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT></P><P class="sap1"><FONT color="#fb2412">**********************************************************************<BR>***&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ***<BR>***&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT><A href="https://tricktresor.com/" target="_blank" Target="_blank"><FONT color="#fb2412">https://tricktresor.com/</FONT></A><FONT color="#fb2412">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ***<BR>***&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ***<BR>**********************************************************************<BR>*** Autor:&nbsp;&nbsp; Enno Wulff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ***<BR>*** Datum:&nbsp;&nbsp; Okt/2004&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ***<BR>**********************************************************************</FONT></P><P class="sap1"><FONT color="#fb2412">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*<BR>&#8221; Ziel &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;&#8220;<BR>* m&ouml;glichst viele Punkte bekommen&#8230;<BR>*<BR>&#8221; Spielprinzip &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8220;<BR>* Das Spielfeld enth&auml;lt Spielsteine unterschiedlicher&nbsp; Farbe. Jeweils<BR>* mindestens zwei zusammenh&auml;ngende Steine k&ouml;nnen &#8220;weggeklickt&#8221; werden.<BR>* Je mehr zusammenh&auml;ngende Steine auf einmal eliminiert werden, desto<BR>* h&ouml;her die Punktzahl.<BR>*<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT></P><P class="sap1">REPORT&nbsp; zz_jawbreaker NO STANDARD PAGE HEADING.</P><P class="sap1">TYPE-POOLS: icon.</P><P class="sap1">TYPES:<BR>&nbsp; ty_farbe(2) TYPE n.</P><P class="sap1">DATA:<BR>&nbsp; g_max_x(3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp; punkte(5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp; punkte1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,<BR>&nbsp; punkte_undo&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,<BR>&nbsp; punktec(5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE c,<BR>&nbsp; l_x(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp; l_y(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp; l_line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,<BR>&nbsp; l_feld(20)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE c,<BR>&nbsp; l_tabix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,<BR>&nbsp; l_anzahl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE i,<BR>&nbsp; l_farbe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE ty_farbe,<BR>&nbsp; l_spalte(2)&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp; t_spalte&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE STANDARD TABLE OF ty_farbe,</P><P class="sap1">&nbsp; BEGIN OF spielfeld OCCURS 0,<BR>&nbsp;&nbsp;&nbsp; x(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp;&nbsp;&nbsp; y(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp;&nbsp;&nbsp; farbe(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n,<BR>&nbsp;&nbsp;&nbsp; mark&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE c,<BR>&nbsp; END OF spielfeld,<BR>&nbsp; spielfeld2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LIKE spielfeld OCCURS 0 WITH HEADER LINE,<BR>&nbsp; spielfeld_undo&nbsp; LIKE spielfeld OCCURS 0 WITH HEADER LINE,<BR>&nbsp; l_spiel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LIKE spielfeld.</P><P class="sap1"><FONT color="#fb2412">*** Spielfeld ***</FONT><BR>SELECTION-SCREEN BEGIN OF BLOCK sfeld WITH FRAME TITLE text-fld.<BR>PARAMETERS:<BR>&nbsp; p_x(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n DEFAULT 15,<BR>&nbsp; p_y(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TYPE n DEFAULT 15,<BR>&nbsp; p_farben(1)&nbsp;&nbsp;&nbsp;&nbsp; TYPE c DEFAULT 5.<BR>SELECTION-SCREEN END OF BLOCK sfeld.</P><P class="sap1"><FONT color="#fb2412">*** Spielmodus ***</FONT><BR>SELECTION-SCREEN BEGIN OF BLOCK modus WITH FRAME TITLE text-mod.<BR>PARAMETERS:<BR>&nbsp; p_norm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RADIOBUTTON GROUP mod DEFAULT &#8216;X&#8217;,<BR>&nbsp; p_fort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RADIOBUTTON GROUP mod.<BR>SELECTION-SCREEN END OF BLOCK modus.</P><P class="sap1">AT SELECTION-SCREEN.<BR>&nbsp; IF p_farben &gt; 7.<BR>&nbsp;&nbsp;&nbsp; p_farben = 7.<BR>&nbsp;&nbsp;&nbsp; MESSAGE w000(su) WITH &#8216;Nur 7 Farben m&ouml;glich!&#8217;.<BR>&nbsp; ENDIF.</P><P class="sap1">START-OF-SELECTION.</P><P class="sap1">&nbsp; PERFORM init.</P><P class="sap1">&nbsp; PERFORM spielfeld_malen.</P><P class="sap1">AT LINE-SELECTION.</P><P class="sap1">&nbsp; GET CURSOR FIELD l_feld LINE l_y.</P><P class="sap1">&nbsp; IF l_feld = &#8216;ICON_SYSTEM_UNDO&#8217;.<BR><FONT color="#fb2412">*** Undo-Funktion <BR></FONT>&nbsp;&nbsp;&nbsp; spielfeld[] = spielfeld_undo[].<BR>&nbsp;&nbsp;&nbsp; SUBTRACT punkte_undo FROM punkte.<BR>&nbsp;&nbsp;&nbsp; CLEAR punkte_undo.<BR>&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp; l_x = ( sy-cucol&nbsp; &#8211; 1 ) / 2.</P><P class="sap1"><BR>&nbsp;&nbsp;&nbsp; READ TABLE spielfeld WITH KEY x = l_x<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = l_y.<BR>&nbsp;&nbsp;&nbsp; IF sy-subrc = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_tabix = sy-tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_farbe = spielfeld-farbe.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CASE spielfeld-mark.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHEN 1.<BR><FONT color="#fb2412">*** Erster Klick:<BR>*&#8211; Alte Auswahl l&ouml;schen<BR></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP AT spielfeld INTO l_spiel WHERE mark = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_spiel-mark = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld FROM l_spiel.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDLOOP.</P><P class="sap1"><FONT color="#fb2412">*&#8211; Neue Auswahl</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLEAR punkte1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM suchen USING l_x l_y l_farbe.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_anzahl = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP AT spielfeld INTO l_spiel WHERE mark = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADD 1 TO l_anzahl.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDLOOP.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF l_anzahl &lt; 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE spielfeld INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF sy-subrc = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; punkte1 = l_anzahl * ( l_anzahl &#8211; 1 ).<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHEN 0.<BR><FONT color="#fb2412">*** Zweiter Klick: L&ouml;schen der markierten felder.<BR></FONT></P><P class="sap1"><FONT color="#fb2412">*&#8211; Undo</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld_undo[] = spielfeld[].</P><P class="sap1"><FONT color="#fb2412">*&#8211; L&ouml;schen der markierten Felder</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP AT spielfeld WHERE mark = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-farbe = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark&nbsp; = 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDLOOP.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADD punkte1 TO punkte.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; punkte_undo = punkte1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLEAR punkte1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM rutschen.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM rechts_sammeln.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM auffuellen.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM ende_pruefen.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WHEN OTHERS.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDCASE.<BR>&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp; ENDIF.</P><P class="sap1">&nbsp; PERFORM spielfeld_malen.</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; suchen<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_FARBE&nbsp;&nbsp;&nbsp; text<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</FONT><BR>FORM suchen USING f_x f_y f_farbe.</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp; u_x(2) TYPE n,<BR>&nbsp;&nbsp;&nbsp; u_y(2) TYPE n.</P><P class="sap1">&nbsp; u_y = f_y.<BR>&nbsp; u_x = f_x &#8211; 1.<BR>&nbsp; PERFORM test USING u_x u_y f_farbe &#8216;X&#8217;.</P><P class="sap1">&nbsp; u_x = f_x + 1.<BR>&nbsp; PERFORM test USING u_x u_y f_farbe &#8216;X&#8217;.</P><P class="sap1">&nbsp; u_x = f_x.<BR>&nbsp; u_y = f_y &#8211; 1.<BR>&nbsp; PERFORM test USING u_x u_y f_farbe &#8216;X&#8217;.</P><P class="sap1">&nbsp; u_y = f_y + 1.<BR>&nbsp; PERFORM test USING u_x u_y f_farbe &#8216;X&#8217;.</P><P class="sap1"><BR>ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;suchen</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; test<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8211;&gt;F_FARBE&nbsp;&nbsp;&nbsp; text<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</FONT><BR>FORM test USING value(f_x) value(f_y) f_farbe f_rekursiv.</P><P class="sap1">&nbsp; IF f_x = 0 OR f_x &gt; p_x OR f_y = 0 OR f_y &gt; p_y.<BR>&nbsp;&nbsp;&nbsp; EXIT.<BR>&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp; READ TABLE spielfeld INTO l_spiel<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WITH KEY x = f_x&nbsp; y = f_y.<BR>&nbsp;&nbsp;&nbsp; IF sy-subrc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0 AND<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_spiel-farbe = f_farbe AND<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_spiel-mark&nbsp; = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_spiel-mark = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld FROM l_spiel INDEX sy-tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF f_rekursiv = &#8216;X&#8217;.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM suchen USING f_x f_y f_farbe.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp; ENDIF.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;test</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; init<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR></FONT>FORM init.</P><P class="sap1">&nbsp; g_max_x = p_x * 3 + 1.</P><P class="sap1">&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp; l_x = sy-index.</P><P class="sap1">&nbsp;&nbsp;&nbsp; DO p_y TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_y = sy-index.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-x = l_x.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-y = l_y.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM zufallsfarbe CHANGING spielfeld-farbe.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; APPEND spielfeld.</P><P class="sap1">&nbsp;&nbsp;&nbsp; ENDDO.</P><P class="sap1">&nbsp; ENDDO.</P><P class="sap1">&nbsp; spielfeld_undo[] = spielfeld[].</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;init</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; spielfeld_malen<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT><BR>FORM spielfeld_malen.</P><P class="sap1">&nbsp; DATA l_pos TYPE i.</P><P class="sap1">&nbsp; SET BLANK LINES ON.<BR>&nbsp; sy-lsind = 0.<BR>&nbsp; SKIP TO LINE 1.</P><P class="sap1">&nbsp; IF punkte =&nbsp; 0.<BR>&nbsp;&nbsp;&nbsp; punktec = &#8216;null&#8217;.<BR>&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp; WRITE punkte TO punktec NO-ZERO LEFT-JUSTIFIED.<BR>&nbsp; ENDIF.<BR><FONT color="#fb2412">*** Titel: &#8220;Jawbreaker: &amp; Punkte&#8221;</FONT><BR>&nbsp; SET TITLEBAR &#8216;JAW&#8217; WITH punktec.</P><P class="sap1">&nbsp; DO p_y TIMES.<BR>&nbsp;&nbsp;&nbsp; l_y = sy-index.<BR>&nbsp;&nbsp;&nbsp; l_pos = 1.<BR>&nbsp;&nbsp;&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_x = sy-index.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE spielfeld WITH KEY x = l_x<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = l_y.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF sy-subrc = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF spielfeld-farbe = 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE: &#8216;..&#8217; NO-GAP HOTSPOT OFF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSEIF spielfeld-mark = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE: &#8216;&nbsp; &#8216; COLOR = spielfeld-farbe NO-GAP<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HOTSPOT ON INTENSIFIED = spielfeld-mark.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE: &#8216;**&#8217; COLOR = spielfeld-farbe NO-GAP<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HOTSPOT ON INTENSIFIED ON .<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADD 2 TO l_pos.<BR>&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp;&nbsp;&nbsp; NEW-LINE.<BR>&nbsp; ENDDO.</P><P class="sap1">&nbsp; SKIP 1.<BR>&nbsp; WRITE: / &#8216;Punkte:&#8217;, punkte1 NO-ZERO.<BR>&nbsp; WRITE AT 30 icon_system_undo AS ICON HOTSPOT ON.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;spielfeld_aufbauen</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; zufallsfarbe<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT><BR>FORM zufallsfarbe CHANGING f_farbe.</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp; l_min TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_max TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_rnd TYPE i.</P><P class="sap1">&nbsp; l_min = 3.<BR>&nbsp; l_max = p_farben + 2.</P><P class="sap1">&nbsp; CALL FUNCTION &#8216;QF05_RANDOM_INTEGER&#8217;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_max&nbsp;&nbsp; = l_max<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_min&nbsp;&nbsp; = l_min<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = l_rnd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXCEPTIONS<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; invalid_input = 1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 2.</P><P class="sap1">&nbsp; f_farbe = l_rnd.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;zufallsfarbe</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; rutschen<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT><BR>FORM rutschen.</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp; l_y2(2)&nbsp; TYPE n.</P><P class="sap1">&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp; l_x = sy-index.<BR>&nbsp;&nbsp;&nbsp; l_y = p_y.<BR>&nbsp;&nbsp;&nbsp; CLEAR t_spalte.<BR>&nbsp;&nbsp;&nbsp; DO p_y TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE spielfeld WITH KEY x = l_x y = l_y.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF spielfeld-farbe &lt;&gt; 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; APPEND spielfeld-farbe TO t_spalte.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_y.</P><P class="sap1">&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp;&nbsp;&nbsp; l_y2 = p_y.<BR>&nbsp;&nbsp;&nbsp; DO p_y TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE spielfeld WITH KEY x = l_x y = l_y2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_tabix = sy-tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE t_spalte INTO spielfeld-farbe INDEX sy-index.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF sy-subrc = 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-farbe = 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; spielfeld-mark&nbsp; = 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODIFY spielfeld INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_y2.<BR>&nbsp;&nbsp;&nbsp; ENDDO.</P><P class="sap1">&nbsp; ENDDO.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;rutschen</P><P class="sap1"><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; rechts_sammeln<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT><BR>FORM rechts_sammeln.</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp; l_y2(2)&nbsp; TYPE n.</P><P class="sap1"><FONT color="#fb2412">*** Rechts beginnen<BR></FONT>&nbsp; l_x = p_x.<BR>&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp; DO p_x TIMES.<BR><FONT color="#fb2412">*** Pr&uuml;fen, ob die Spalte leer ist</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP AT spielfeld WHERE x = l_x<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND farbe &lt;&gt; 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXIT.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDLOOP.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF sy-subrc = 0.<BR><FONT color="#fb2412">*** spalte nicht leer; schleife verlassen</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXIT.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;from do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ELSE.<BR><FONT color="#fb2412">** spalte ist leer</FONT><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l_spalte = l_x &#8211; 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DO l_x TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM verschiebe_spalte USING l_spalte.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_spalte.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_x.<BR>&nbsp; ENDDO.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;rechts_sammeln</P><P class="sap1"><BR><FONT color="#fb2412">*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*<BR>*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form&nbsp; verschiebe_spalte<BR>*&amp;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;*</FONT><BR>FORM verschiebe_spalte USING f_spalte.</P><P class="sap1">&nbsp; DATA: l_spalte2(2) TYPE n.<BR>&nbsp; CLEAR t_spalte.</P><P class="sap1">&nbsp; LOOP AT spielfeld WHERE x = f_spalte.</P><P class="sap1">&nbsp;&nbsp;&nbsp; APPEND spielfeld-farbe TO t_spalte.<BR>&nbsp;&nbsp;&nbsp; spielfeld-farbe = 2.<BR>&nbsp;&nbsp;&nbsp; spielfeld-mark&nbsp; = 1.<BR>&nbsp;&nbsp;&nbsp; MODIFY spielfeld.<BR>&nbsp; ENDLOOP.</P><P class="sap1">&nbsp; l_spalte2 = f_spalte + 1.<BR>&nbsp; l_tabix = 0.<BR>&nbsp; LOOP AT spielfeld WHERE x = l_spalte2.<BR>&nbsp;&nbsp;&nbsp; ADD 1 TO l_tabix.<BR>&nbsp;&nbsp;&nbsp; READ TABLE t_spalte INTO spielfeld-farbe INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp; MODIFY spielfeld.</P><P class="sap1">&nbsp; ENDLOOP.</P><P class="sap1">ENDFORM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;verschiebe_spalte</P><P class="sap1"><FONT color="#fb2412">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FORM ende_pruefen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</FONT><BR>FORM ende_pruefen.</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_x(2)&nbsp; TYPE n,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_y(2)&nbsp; TYPE n,</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v_x(2)&nbsp; TYPE n,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v_y(2)&nbsp; TYPE n,</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v_farbe TYPE ty_farbe.</P><P class="sap1"><BR>&nbsp; spielfeld2[] = spielfeld[].</P><P class="sap1"><BR>&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp; v_x = sy-index.<BR>&nbsp;&nbsp;&nbsp; DO p_y TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v_y = sy-index.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ TABLE spielfeld2 WITH KEY x = v_x y = v_y.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CHECK spielfeld2-farbe &gt; 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v_farbe = spielfeld2-farbe.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_x = v_x &#8211; 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_y = v_y.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM test USING u_x u_y v_farbe &#8216; &#8216;.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_x = v_x + 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM test USING u_x u_y v_farbe &#8216; &#8216;.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_x = v_x.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_y = v_y &#8211; 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM test USING u_x u_y v_farbe &#8216; &#8216;.</P><P class="sap1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u_y = v_y + 1.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM test USING u_x u_y v_farbe &#8216; &#8216;.<BR>&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp; ENDDO.</P><P class="sap1">&nbsp; LOOP AT spielfeld WHERE mark = 0.</P><P class="sap1">&nbsp; ENDLOOP.<BR>&nbsp; IF sy-subrc &gt; 0.<BR>&nbsp;&nbsp;&nbsp; SKIP p_y.<BR>&nbsp;&nbsp;&nbsp; SKIP 4.<BR>&nbsp;&nbsp;&nbsp; WRITE: / &#8216;Spiel ist zuende! Gewinnpunkte:&#8217;, punkte NO-ZERO.<BR>&nbsp; ELSE.<BR>&nbsp;&nbsp;&nbsp; spielfeld[] = spielfeld2[].<BR>&nbsp; ENDIF.</P><P class="sap1">ENDFORM.</P><P class="sap1"><FONT color="#fb2412">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FORM spalte_auffuellen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*</FONT><BR>FORM spalte_auffuellen USING value(fx).</P><P class="sap1">&nbsp; DATA:<BR>&nbsp;&nbsp;&nbsp; l_frb TYPE ty_farbe,<BR>&nbsp;&nbsp;&nbsp; l_anz TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_min TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_max TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_rnd TYPE i,<BR>&nbsp;&nbsp;&nbsp; l_row TYPE i.</P><P class="sap1">&nbsp; l_max = p_y.<BR>&nbsp; l_min = 1.</P><P class="sap1">&nbsp; CALL FUNCTION &#8216;QF05_RANDOM_INTEGER&#8217;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_max&nbsp;&nbsp; = l_max<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int_min&nbsp;&nbsp; = l_min<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ran_int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = l_rnd<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EXCEPTIONS<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; invalid_input = 1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 2.</P><P class="sap1">&nbsp; l_row = p_y.<BR>&nbsp; DO l_rnd TIMES.<BR>&nbsp;&nbsp;&nbsp; READ TABLE spielfeld WITH KEY x = fx y = l_row.<BR>&nbsp;&nbsp;&nbsp; l_tabix = sy-tabix.<BR>&nbsp;&nbsp;&nbsp; PERFORM zufallsfarbe USING spielfeld-farbe.<BR>&nbsp;&nbsp;&nbsp; MODIFY spielfeld INDEX l_tabix.<BR>&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_row.<BR>&nbsp; ENDDO.</P><P class="sap1">ENDFORM.</P><P class="sap1"><FONT color="#fb2412">*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR>*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FORM auffuellen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<BR>*&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;*<BR></FONT>FORM auffuellen.</P><P class="sap1">&nbsp; DATA l_spalte(2) TYPE n.</P><P class="sap1">&nbsp; IF p_fort = &#8216;X&#8217;.</P><P class="sap1">&nbsp;&nbsp;&nbsp; l_spalte = p_x.<BR>&nbsp;&nbsp;&nbsp; DO p_x TIMES.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP AT spielfeld WHERE x = l_spalte AND farbe &lt;&gt; 2.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDLOOP.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF sy-subrc &gt; 0.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERFORM spalte_auffuellen USING l_spalte.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDIF.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBTRACT 1 FROM l_spalte.<BR>&nbsp;&nbsp;&nbsp; ENDDO.<BR>&nbsp; ENDIF.</P><P class="sap1">ENDFORM.&nbsp;</P></p>
<p>Der Beitrag <a href="/blog/jawbreaker/">Jawbreaker</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
