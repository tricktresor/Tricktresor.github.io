<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:series="https://publishpress.com/"
	>

<channel>
	<title>cl_gui_html_viewer Archive - Tricktresor</title>
	<atom:link href="/blog/keywords/cl_gui_html_viewer/feed/" rel="self" type="application/rss+xml" />
	<link></link>
	<description>Tipps und Tricks zu SAP R/3</description>
	<lastBuildDate>Tue, 12 Jun 2018 23:05:32 +0000</lastBuildDate>
	<language>de-DE</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.4.3</generator>

<image>
	<url>/wp-content/uploads/2019/02/cropped-Tricktresor-favicon-2019-32x32.png</url>
	<title>cl_gui_html_viewer Archive - Tricktresor</title>
	<link></link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Pimp My Message [5] &#8211; Masterpiece</title>
		<link>/blog/pimp-my-message-5-masterpiece/</link>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Tue, 12 Jun 2018 23:05:32 +0000</pubDate>
				<category><![CDATA[Info/ Doku/ Demo]]></category>
		<category><![CDATA[cl_gui_html_viewer]]></category>
		<category><![CDATA[Hilfe]]></category>
		<category><![CDATA[F1]]></category>
		<category><![CDATA[HTML]]></category>
		<category><![CDATA[ITF]]></category>
		<category><![CDATA[W3CSS]]></category>
		<guid isPermaLink="false">https://tricktresor.com/?p=1018837</guid>

					<description><![CDATA[<p>Zu Guter Letzt in der Serie Nachrichten anzeigen, wollte ich die Möglichkeiten, die W3CSS bietet so gut wie möglich ausnutzen. Die Überschriften des Langtextes sollen bei Bedarf aufgeklappt werden. Der Anwender hat so eine perfekte Übersicht über alle Bestandteile der Meldung und kann diese aufklappen. Die aufgeklappten Bestandteile der Meldung sehen dann so aus: Wie dir vielleicht aufgefallen ist, habe ich die einzelnen unterschiedlichen Absatzformate ebenfalls angepasst. Die Überschrift U2 wird ebenfalls farbig dargestellt und...</p>
<p>Der Beitrag <a href="/blog/pimp-my-message-5-masterpiece/">Pimp My Message [5] &#8211; Masterpiece</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>Zu Guter Letzt in der Serie Nachrichten anzeigen, wollte ich die Möglichkeiten, die W3CSS bietet so gut wie möglich ausnutzen. Die Überschriften des Langtextes sollen bei Bedarf aufgeklappt werden. Der Anwender hat so eine perfekte Übersicht über alle Bestandteile der Meldung und kann diese aufklappen.</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2018/06/m2.png"><img fetchpriority="high" decoding="async" class="alignnone size-full wp-image-1018818" src="https://tricktresor.com/wp-content/uploads/2018/06/m2.png" alt="" width="900" height="750" srcset="/wp-content/uploads/2018/06/m2.png 900w, /wp-content/uploads/2018/06/m2-300x250.png 300w, /wp-content/uploads/2018/06/m2-768x640.png 768w" sizes="(max-width: 900px) 100vw, 900px" /></a></p>
<p>Die aufgeklappten Bestandteile der Meldung sehen dann so aus:</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2018/06/m4.png"><img decoding="async" class="alignnone size-full wp-image-1018816" src="https://tricktresor.com/wp-content/uploads/2018/06/m4.png" alt="" width="900" height="750" srcset="/wp-content/uploads/2018/06/m4.png 900w, /wp-content/uploads/2018/06/m4-300x250.png 300w, /wp-content/uploads/2018/06/m4-768x640.png 768w" sizes="(max-width: 900px) 100vw, 900px" /></a></p>
<p>Wie dir vielleicht aufgefallen ist, habe ich die einzelnen unterschiedlichen Absatzformate ebenfalls angepasst. Die Überschrift U2 wird ebenfalls farbig dargestellt und die Aufzählungen werden in einem grauen Rahmen dargestellt.</p>
<h2>Absatzvielfalt</h2>
<p>Für die Langtexte werden eine Vielzahl an Absatzformaten verwendet. Eine fehlerhafte Darstellung ist jedoch nicht schlimm, kann aber nach und nach in einer zentralen Umwandlungsfunktion angepasst werden.</p>
<p>Wenn man einmal weiß, wie Absatzformate besonders hervorgehoben werden können, lassen sich auch leicht eigene Absatzformate definieren, die dann eine besondere Farbe oder Darstellung bekommen.</p>
<h2>Container</h2>
<p>Die Darstellung der Meldung erfolgt in allen Beispielen in einem HTML-Container der in einer amodalen Dialogbox eingebettet ist. Dies habe ich gemacht, weil der Programmcode hierfür sehr einfach zu erzeugen ist. Wenn du eine eigene Darstellung bastelst, dann solltest du ein Dynpro verwenden. Hier kann der angepasste HTML-Texte angezeigt werden. Zusätzlich können aber auch entsprechende Icons oder Bilder dargestellt werden. Die Meldung kann auf diese Weise wirklich schick angezeigt werden und erregt so hoffentlich die Aufmerksamkeit des Anwenders.</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2018/06/m3.png"><img decoding="async" class="alignnone size-full wp-image-1018817" src="https://tricktresor.com/wp-content/uploads/2018/06/m3.png" alt="" width="900" height="750" srcset="/wp-content/uploads/2018/06/m3.png 900w, /wp-content/uploads/2018/06/m3-300x250.png 300w, /wp-content/uploads/2018/06/m3-768x640.png 768w" sizes="(max-width: 900px) 100vw, 900px" /></a></p>
<h2>Code</h2>
<pre class="lang:abap decode:true">REPORT.

PARAMETERS p_msgno TYPE symsgno DEFAULT '313'.

CLASS lcl_info DEFINITION.
  PUBLIC SECTION.
    METHODS show.
    METHODS get_message_short RETURNING VALUE(rv_message) TYPE string.
    METHODS get_accordion_long RETURNING VALUE(rt_html) TYPE htmltable.
  PROTECTED SECTION.
    CLASS-METHODS build_box.
    CLASS-DATA mo_box TYPE REF TO cl_gui_dialogbox_container.
    CLASS-DATA mo_html TYPE REF TO cl_gui_html_viewer.
    DATA mv_short TYPE string.
    DATA mt_long  TYPE htmltable.
    CLASS-METHODS handle_close FOR EVENT close OF cl_gui_dialogbox_container.
    METHODS show_message.
ENDCLASS.

CLASS lcl_info IMPLEMENTATION.

  METHOD show.
    build_box( ).
    mv_short = get_message_short( ).
    mt_long  = get_accordion_long( ).
    show_message( ).
  ENDMETHOD.
  METHOD get_message_short.

    MESSAGE ID sy-msgid
          TYPE sy-msgty
        NUMBER sy-msgno
          WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4
          INTO rv_message.
  ENDMETHOD.

  METHOD build_box.
    IF mo_box IS INITIAL.
      mo_box  = NEW #( width = 900 height = 400 top = 20 left = 400 ).
      mo_html = NEW #( parent = mo_box ).
      SET HANDLER handle_close FOR mo_box.
    ENDIF.
    mo_box-&gt;set_caption( sy-title ).
  ENDMETHOD.

  METHOD show_message.
    DATA lv_url TYPE c LENGTH 1000.
    mo_html-&gt;load_data( EXPORTING encoding = 'utf-8'
                        IMPORTING assigned_url = lv_url
                        CHANGING data_table = mt_long ).
    mo_html-&gt;show_data( url = lv_url ).
  ENDMETHOD.

  METHOD handle_close.
    mo_box-&gt;set_visible( space ).
  ENDMETHOD.


  METHOD get_accordion_long.

    DATA ls_header           TYPE thead.

    DATA lt_itf_text         TYPE STANDARD TABLE OF tline.
    DATA lt_html_text        TYPE STANDARD TABLE OF htmlline.

    DATA lv_object                 TYPE dokhl-object.


    CALL FUNCTION 'DOCU_OBJECT_NAME_CONCATENATE'
      EXPORTING
        docu_id  = 'NA'
        element  = sy-msgid
        addition = sy-msgno
      IMPORTING
        object   = lv_object.


    CALL FUNCTION 'DOCU_GET'
      EXPORTING
        id     = 'NA'
        langu  = sy-langu
        object = lv_object
      IMPORTING
        head   = ls_header
      TABLES
        line   = lt_itf_text
      EXCEPTIONS
        OTHERS = 5.

    DATA(lt_conv_parformats) = VALUE tline_t(
             ( tdformat = 'U1' tdline = '&lt;h2&gt;&lt;div class="w3-panel w3-blue"&gt;' )
             ( tdformat = 'U2' tdline = '&lt;h3&gt;&lt;div class="w3-panel w3-light-blue"&gt;' )
             ( tdformat = 'U3' tdline = '&lt;h3&gt;&lt;div class="w3-panel w3-sand"&gt;' )
             ( tdformat = 'AS' tdline = '&lt;div class="w3-margin"&gt;' )
             ( tdformat = '*' tdline = '&lt;div class="w3-margin"&gt;' )
             ( tdformat = 'PE' tdline = '&lt;div class="w3-margin w3-light-grey"&gt;' )
             ( tdformat = 'B1' tdline = '&lt;div class="w3-container w3-margin"&gt;' ) ).

    CALL FUNCTION 'CONVERT_ITF_TO_HTML'
      EXPORTING
        i_header          = ls_header
        i_html_header     = abap_false
      TABLES
        t_itf_text        = lt_itf_text
        t_html_text       = rt_html
        t_conv_parformats = lt_conv_parformats
      EXCEPTIONS
        OTHERS            = 4.

    DATA(lt_header) = VALUE htmltable(
             ( tdline = '&lt;html&gt;&lt;head&gt;' )
             ( tdline = '&lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;' )
             ( tdline = '&lt;link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"&gt;' )
             ( tdline = '&lt;title&gt;test&lt;/title&gt;&lt;/head&gt;&lt;body&gt;' )
             ( tdline = |&lt;h1&gt;&lt;div class="w3-panel w3-red"&gt;{ mv_short }&lt;/div&gt;&lt;/h1&gt;| ) ).
    INSERT LINES OF lt_header INTO rt_html INDEX 1.

    DATA(lt_script) = VALUE htmltable(
             ( tdline = '    &lt;script&gt; ' )
             ( tdline = 'function myFunction(id) {' )
             ( tdline = '    var x = document.getElementById(id);' )
             ( tdline = '    if (x.className.indexOf("w3-show") == -1) {' )
             ( tdline = '        x.className += " w3-show";' )
             ( tdline = '    } else { ' )
             ( tdline = '        x.className = x.className.replace(" w3-show", "");' )
             ( tdline = '    }' )
             ( tdline = '}' )
             ( tdline = '&lt;/script&gt;' )  ).
    APPEND LINES OF lt_script TO rt_html.

    DATA(lt_style) = VALUE htmltable(
                         ( tdline = '&lt;style type="text/css"&gt;body { overflow: hidden; }&lt;/style&gt;' ) ).

    APPEND LINES OF lt_style TO rt_html.

    APPEND '&lt;/body&gt;&lt;/html&gt;' TO rt_html.

    DATA id TYPE n LENGTH 2.
    LOOP AT rt_html ASSIGNING FIELD-SYMBOL(&lt;html&gt;).
      IF &lt;html&gt;(4) = '&lt;h2&gt;'.
        IF id IS NOT INITIAL.
          APPEND '&lt;/div&gt;' TO lt_html_text.
        ENDIF.
        ADD 1 TO id.
        APPEND |&lt;button onclick="myFunction('{ id }')" class="w3-btn w3-block w3-light-blue w3-left-align"&gt;| TO lt_html_text.
        APPEND &lt;html&gt; TO lt_html_text.
        APPEND |&lt;/button&gt;| TO lt_html_text.
        APPEND |&lt;div id="{ id }" class="w3-container w3-hide"&gt;| TO lt_html_text.
      ELSE.
        APPEND &lt;html&gt; TO lt_html_text.
      ENDIF.
    ENDLOOP.

    rt_html = lt_html_text.

  ENDMETHOD.

ENDCLASS.

AT SELECTION-SCREEN.

  MESSAGE ID 'BRAIN'
         TYPE 'E'
        NUMBER p_msgno
         WITH 'EINS' 'ZWEI' 'DREI' 'VIER' INTO sy-title.
  NEW lcl_info( )-&gt;show( ) .</pre>
<p>&nbsp;</p>
<p>Der Beitrag <a href="/blog/pimp-my-message-5-masterpiece/">Pimp My Message [5] &#8211; Masterpiece</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
		
		<series:name><![CDATA[Nachrichten]]></series:name>
	</item>
		<item>
		<title>SAP und bunte Bilder &#8211; geht das?</title>
		<link>/blog/sap-und-bunte-bilder-cl_gui_html_viewer/</link>
		
		<dc:creator><![CDATA[M&#38;Mler]]></dc:creator>
		<pubDate>Wed, 12 Nov 2014 13:54:52 +0000</pubDate>
				<category><![CDATA[Reports]]></category>
		<category><![CDATA[Info/ Doku/ Demo]]></category>
		<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[Entwurfsmuster]]></category>
		<category><![CDATA[MM]]></category>
		<category><![CDATA[Diagramme]]></category>
		<category><![CDATA[DOKU]]></category>
		<category><![CDATA[google]]></category>
		<category><![CDATA[Bilder]]></category>
		<category><![CDATA[Charts]]></category>
		<category><![CDATA[GUI]]></category>
		<category><![CDATA[style]]></category>
		<category><![CDATA[Container]]></category>
		<category><![CDATA[abap]]></category>
		<category><![CDATA[cl_gui_html_viewer]]></category>
		<guid isPermaLink="false">https://tricktresor.com/?p=5107</guid>

					<description><![CDATA[<p>SAP ERP kann viel. Kleine Tabellen, große Tabellen ALV Tabellen und im NWBC auch neue PowerListen.<br />
Sobald man Daten jedoch grafisch anzeigen möchte kommt recht schnell Ernüchterung ins Spiel. In diesem Artikel zeige ich, wie Daten einfach und trotzdem grafisch anspruchsvoll dargestellt werden können.</p>
<p>Der Beitrag <a href="/blog/sap-und-bunte-bilder-cl_gui_html_viewer/">SAP und bunte Bilder &#8211; geht das?</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p>SAP ERP kann viel. Kleine Tabellen, große Tabellen ALV Tabellen und im NWBC auch neue PowerListen.<br />
Sobald man Daten jedoch grafisch anzeigen möchte kommt recht schnell Ernüchterung ins Spiel.<br />
Die Prognose bzw. MD04 Diagramme stammen wohl noch aus den frühen 90er Jahren.</p>
<p>Im SAP Demo-Programm <strong>GRAPHICS_GUI_CE_DEMO </strong>sieht man ein Beispiel mit der Chart-Engine. Der Aufwand diese Diagramme richtig zu formatieren und einzubinden wird oftmals bei knappen Entwicklungsbudgets als erstes zusammengestrichen.</p>
<p>Eine alternative Lösung um <em>unkritische</em> Daten optisch ansprechend zu verpacken ist die <a title="Google Charts" href="https://developers.google.com/chart/" target="_blank">Google-Chart API</a>.<br />
Firmendaten an GOOGLE schicken?!? Es ist jedem selbst überlassen welche Daten wirklich übergeben werden.<br />
01.01.2014 &#8211; 100<br />
01.02.2014 &#8211; 80<br />
01.03.2014 &#8211; 70<br />
01.04.2014 &#8211; 100<br />
01.05.2014 &#8211; 200<br />
Datum + Zahl<br />
Ob das Verkaufsmengen, Einkaufswerte,Anzahl  Mitarbeiter oder Umsatz in t€ ist kann man ja bequem über dem Diagramm im HTML ausgeben.<br />
Google versichert zudem die übergebenen Daten nicht zu speichern oder auszuwerten. Wie weit man das glaubt sei wieder jedem selbst überlassen.</p>
<p>Beispiele:</p>
<figure id="attachment_5109" aria-describedby="caption-attachment-5109" style="width: 300px" class="wp-caption alignnone"><a href="https://tricktresor.com/wp-content/uploads/2014/11/pie.png"><img loading="lazy" decoding="async" class="size-medium wp-image-5109" src="https://tricktresor.com/wp-content/uploads/2014/11/pie-300x206.png" alt="Google Chart Pie Chart " width="300" height="206" srcset="/wp-content/uploads/2014/11/pie-300x206.png 300w, /wp-content/uploads/2014/11/pie.png 321w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-5109" class="wp-caption-text">Google Chart Pie Chart</figcaption></figure>
<figure id="attachment_5110" aria-describedby="caption-attachment-5110" style="width: 300px" class="wp-caption alignnone"><a href="https://tricktresor.com/wp-content/uploads/2014/11/line.png"><img loading="lazy" decoding="async" class="size-medium wp-image-5110" src="https://tricktresor.com/wp-content/uploads/2014/11/line-300x156.png" alt="Google Chart Line Chart" width="300" height="156" srcset="/wp-content/uploads/2014/11/line-300x156.png 300w, /wp-content/uploads/2014/11/line.png 381w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-5110" class="wp-caption-text">Google Chart Line Chart</figcaption></figure>
<figure id="attachment_5108" aria-describedby="caption-attachment-5108" style="width: 300px" class="wp-caption alignnone"><a href="https://tricktresor.com/wp-content/uploads/2014/11/geo.png"><img loading="lazy" decoding="async" class="size-medium wp-image-5108" src="https://tricktresor.com/wp-content/uploads/2014/11/geo-300x176.png" alt="Google Chart Geo-Chart" width="300" height="176" srcset="/wp-content/uploads/2014/11/geo-300x176.png 300w, /wp-content/uploads/2014/11/geo.png 445w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-5108" class="wp-caption-text">Google Chart Geo Chart</figcaption></figure>
<h2><strong>Hier ein konkretes Beispiel Coding zum Nachbauen:</strong></h2>
<p>Ziel die MM Bestände der einzelnen Werke als Tortendiagramm darstellen.<br />
Datengrundlage: MM Bestandsstatistik &#8211;&gt;S032</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2014/11/bestand_werk.png"><img loading="lazy" decoding="async" class="alignnone size-medium wp-image-5114" src="https://tricktresor.com/wp-content/uploads/2014/11/bestand_werk-300x220.png" alt="bestand_werk" width="300" height="220" srcset="/wp-content/uploads/2014/11/bestand_werk-300x220.png 300w, /wp-content/uploads/2014/11/bestand_werk.png 461w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>Das HTML Coding findet man <a href="https://developers.google.com/chart/interactive/docs/gallery/piechart" target="_blank">hier</a>.<br />
HTML Kenntnisse sind sicherlich hilfreich. Es muss jedoch lediglich der rot markierte Bereich angepasst werden.</p>
<p><a href="https://tricktresor.com/wp-content/uploads/2014/11/HTML.png"><img loading="lazy" decoding="async" class="alignnone size-medium wp-image-5112" src="https://tricktresor.com/wp-content/uploads/2014/11/HTML-300x196.png" alt="HTML" width="300" height="196" srcset="/wp-content/uploads/2014/11/HTML-300x196.png 300w, /wp-content/uploads/2014/11/HTML-624x409.png 624w, /wp-content/uploads/2014/11/HTML.png 977w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h2>Coding</h2>
<pre>REPORT zz_google_chart.
*&amp;---------------------------------------------------------------------*
*&amp; Report ZMM_HTML_TEST
*&amp;
*&amp;---------------------------------------------------------------------*
*&amp; Kleines Testprogramm als Demo für CL_GUI_HTML_VIEWER
*&amp; Dieser Report selektiert alle Bestände aus der Tabellen S032 (MM Statitik) und gibt das Ergebnis als Google Chart aus.
*&amp; M&amp;Mler (AWI) 11/2014
*&amp; Keine Garantie, kein Support, keine Kosten.
*&amp;---------------------------------------------------------------------*

define html.
 ls_html = &amp;1. "HTML schreiben
 APPEND ls_html TO lt_html. "An HTML Ausgabetabelle hängen
end-OF-DEFINITION.

TABLES: s032.
TYPES: BEGIN OF ty_s032,
 werks TYPE werks_d,
 wbwbest TYPE wbwbest,
 END OF ty_s032.
"Daten
DATA: gt_data TYPE TABLE OF ty_s032.
"Für HTML ausgabe
DATA: lt_html TYPE TABLE OF char255, "hier landet der HTMl Code drin
 ls_html LIKE LINE OF lt_html, "eine zeile HTML Code
 lo_container TYPE REF TO cl_gui_custom_container, "für die Ausgabe
 lo_html_control TYPE REF TO cl_gui_html_viewer, "für die Ausgabe
 lf_url(1024),
 lf_lines TYPE i, " Anzahl Zeilen
 lf_komma(1). "letzter Datensatz darf kein Komma haben
FIELD-SYMBOLS: &lt;fs_data&gt; TYPE ty_s032.
SELECT-OPTIONS: s_werks FOR s032-werks.

START-OF-SELECTION.
  "Alle Bestände je Werk aus der S032 summieren
  SELECT werks SUM( wbwbest ) AS wbwbest
    FROM s032
    INTO CORRESPONDING FIELDS OF TABLE gt_data
   WHERE werks IN s_werks
     AND vrsio = '000'
     GROUP BY werks .
 "Sodele, itab gt_data ist gefüllt --&gt; Ausgabe als Kuchendiagramm.
 "Das folgende Coding füllt den HTML Code in eine interne Tabelle.
 "per ABAP macro wird der Code deutlich leserlicher
   html `&lt;html&gt;`. "HTML schreiben
   html ` &lt;head&gt;`. "HTML schreiben
   html ` &lt;script type="text/javascript" src="https://www.google.com/jsapi"&gt;&lt;/script&gt;`.
   html ` &lt;script type="text/javascript"&gt;`.
   html ` google.load("visualization", "1", {packages:["corechart"]});`.
   html ` google.setOnLoadCallback(drawChart);`.
   html ` function drawChart() {`.
   html ` var data = google.visualization.arrayToDataTable([`.
 "Hier kommt der spannende Teil, in dem die "Nutzdaten" gefüllt werden
   html ` ['Werk', 'Bestand'],`.
   lf_lines = lines( gt_data ).
 "jetzt per Loop die itab in JavaScript "umbauen"
 "Der letzte Datensatz darf nicht mit Komma abgeschlossen werden, daher lf_komma
   lf_komma = ','.
   LOOP AT gt_data ASSIGNING &lt;fs_data&gt;.
     IF sy-tabix = lf_lines. "letzter Datensatz? Dann kein Komma
       FREE: lf_komma.
     ENDIF.
     ls_html = ` ['` &amp;&amp; &lt;fs_data&gt;-werks &amp;&amp; `', ` &amp;&amp; &lt;fs_data&gt;-wbwbest &amp;&amp; `] ` &amp;&amp; lf_komma.
     append ls_html to lt_html.
   ENDLOOP.
   html ` ]);`.
   html ` var options = {`.
   html ` title: 'Hier kann ein Titel eingegeben werden'`.
   html ` };`.
   html ` var chart = new google.visualization.PieChart(document.getElementById('piechart'));`.
   html ` chart.draw(data, options);`.
   html ` }`.
   html ` &lt;/script&gt;`.
   html ` &lt;/head&gt;`.
 "Ab hier kommt der BODY des HTML Dokuments. Wenn man keinen TITLE an die Grafik schickt, kann man dies hier im HTML machen
   html ` &lt;body&gt;`.
   html ` &lt;div id="piechart" style="width: 900px; height: 500px;"&gt;&lt;/div&gt;`.
   html ` &lt;/body&gt;`.
   html `&lt;/html&gt;`.

   CREATE OBJECT lo_html_control
     EXPORTING
       parent = cl_gui_container=&gt;screen0.
       lf_url = 'AWI.html'.
   CALL METHOD lo_html_control-&gt;load_data
     EXPORTING
       url = lf_url
     IMPORTING
       assigned_url = lf_url
     CHANGING
       data_table = lt_html[].
* HTML im VIEWER anzeigen
   lo_html_control-&gt;show_url( lf_url ).
 
  write space. "Dummy für SCREEN0
</pre>
<h3>Weitere Hinweise und Anregungen:</h3>
<p>&#8211; Mit den Geo-Charts kann man nur anhand einer Postleitzahl und eines Wertes schöne Kartendarstellungen erzeugen. Darstellung der Kunden, Lieferanten Verkaufsaktionen usw.<br />
&#8211; Die Charts können auch interaktiv &#8220;eingestellt&#8221; werden. In ABAP kann man die Java-Script Events abfangen. (Wenn ein talentierterer Entwickler als ich es bin mir ein Beispiel zukommen lässt, ergänze ich das gerne in dieser Doku)</p>
<p>12.11.2014 AWI</p>
<p>Der Beitrag <a href="/blog/sap-und-bunte-bilder-cl_gui_html_viewer/">SAP und bunte Bilder &#8211; geht das?</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Drag&#8217;n&#8217;Drop mit Datei</title>
		<link>/blog/dragndrop-mit-datei/</link>
					<comments>/blog/dragndrop-mit-datei/#respond</comments>
		
		<dc:creator><![CDATA[Enno Wulff]]></dc:creator>
		<pubDate>Fri, 25 Nov 2011 17:01:49 +0000</pubDate>
				<category><![CDATA[Reports]]></category>
		<category><![CDATA[Programmierung]]></category>
		<category><![CDATA[ABAP OO]]></category>
		<category><![CDATA[Editor]]></category>
		<category><![CDATA[Drag and Drop]]></category>
		<category><![CDATA[TextEditControl]]></category>
		<category><![CDATA[Container]]></category>
		<category><![CDATA[docker]]></category>
		<category><![CDATA[abap]]></category>
		<category><![CDATA[Controls]]></category>
		<category><![CDATA[cl_gui_docking_container]]></category>
		<category><![CDATA[ABAP-Objects]]></category>
		<category><![CDATA[cl_gui_html_viewer]]></category>
		<category><![CDATA[GUI]]></category>
		<guid isPermaLink="false">http://wp.tricktresor.com/?p=631</guid>

					<description><![CDATA[<p>In diesem Beispiel zeigen wir, wie Sie eine Datei aus dem Windows-Explorer auf ein SAP-Control ziehen k&#246;nnen und den Dateipfad sowie Dateinamen angezeigt bekommen. So l&#228;sst sich z.B. eine Anwendung programmieren, die Dateien per Drag'n'Drop entgegen nimmt und auf den Application server hoch l&#228;dt.</p>
<p>Der Beitrag <a href="/blog/dragndrop-mit-datei/">Drag&#8217;n&#8217;Drop mit Datei</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></description>
										<content:encoded><![CDATA[<p><a href="https://tricktresor.com/wp-content/uploads/2011/11/02_21_15_35_20.jpg"><img loading="lazy" decoding="async" class="alignright size-medium wp-image-4505" alt="Drag and drop html" src="https://tricktresor.com/wp-content/uploads/2011/11/02_21_15_35_20-300x158.jpg" width="300" height="158" srcset="/wp-content/uploads/2011/11/02_21_15_35_20-300x158.jpg 300w, /wp-content/uploads/2011/11/02_21_15_35_20-624x330.jpg 624w, /wp-content/uploads/2011/11/02_21_15_35_20.jpg 625w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>In diesem Beispiel zeigen wir, wie Sie eine Datei aus dem Windows-Explorer auf ein SAP-Control ziehen können und den Dateipfad sowie Dateinamen angezeigt bekommen. So lässt sich z.B. eine Anwendung programmieren, die Dateien per Drag&#8217;n&#8217;Drop entgegen nimmt und auf den Application server hoch lädt.<br />
SAP-Controls und Drag&#8217;n&#8217;Drop</p>
<p>SAP-Controls können normalerweise nur DragDropObjekte aufnehmen, die auch von einem SAP-Control erzeugt wurden.</p>
<p>Ausnahmen sind der ABAP-Editor und das TextEditControl: Sie können eine Textdatei auf das Control ziehen und der Inhalt wird im Control dargestellt.</p>
<p>Leider feuert kein Control ein Event &#8220;DropComplete&#8221;, auf das man reagieren könnte, geschweige denn, dass man schon bei &#8220;onDrop&#8221; entscheiden könnte, ob man dieses Objekt haben möchte oder nicht.</p>
<p>Eine Ausnahme bildet das HTML-Control, das ja den Internet Explorer verwendet um HTML- oder PDF-Dateien anzuzeigen.</p>
<p>Das Control CL_GUI_HTML_VIEWER erzeugt das Ereignis &#8220;NAVIGATE_COMPLETE&#8221;, sobald die &#8220;Navigation&#8221; abgeschlossen wurde. Eine Datei, die per Drag and Drop auf dieses Control gezogen wird, löst ebenfalls dieses Ereignis aus.</p>
<h2>Beschreibung</h2>
<p>Dieses Programm dockt das HTML-Control an das Selektionsbild an und zeigt die URL einer ge-drop-ten Datei an.</p>
<h2>Code</h2>
<pre>REPORT z_dock_drop.
*** Selection screen
PARAMETERS: p_url     TYPE string.
INITIALIZATION.
  PERFORM create_objects.

*----------------------------------------------------------------------*
*       CLASS lcl_event_receiver DEFINITION
*----------------------------------------------------------------------*
CLASS lcl_event_receiver DEFINITION.
  PUBLIC SECTION.
    CLASS-METHODS:
      handle_navigate_complete
          FOR EVENT navigate_complete
          OF cl_gui_html_viewer
            IMPORTING url sender.
ENDCLASS.                    "lcl_event_receiver DEFINITION
*----------------------------------------------------------------------*
*       CLASS lcl_event_receiver IMPLEMENTATION
*----------------------------------------------------------------------*
CLASS lcl_event_receiver IMPLEMENTATION.

  METHOD handle_navigate_complete.
    p_url = url.
*    sender-&gt;go_back( ). "If object should not be displayed
  ENDMETHOD.                    "handle_sapevent
ENDCLASS.                    "lcl_event_receiver IMPLEMENTATION

*&amp;---------------------------------------------------------------------*
*&amp;      Form  CREATE_OBJECTS
*&amp;---------------------------------------------------------------------*
FORM create_objects.
*** Data
  DATA cl_docker         TYPE REF TO cl_gui_docking_container.
  DATA t_events        TYPE cntl_simple_events.
  DATA wa_event        LIKE LINE OF t_events.
  DATA event_receiver  TYPE REF TO lcl_event_receiver.
  DATA t_html          TYPE STANDARD TABLE OF text8192
                       WITH NON-UNIQUE DEFAULT KEY.
  DATA html            LIKE LINE OF t_html.
  DATA url             TYPE text1000.
  DATA cl_html         TYPE REF TO cl_gui_html_viewer.

*** create docker
  CREATE OBJECT cl_docker
    EXPORTING
      extension               = 300
      side                    = cl_gui_docking_container=&gt;dock_at_bottom
      no_autodef_progid_dynnr = 'X'.

*** create HTML
  CREATE OBJECT cl_html
    EXPORTING
      parent = cl_docker.

*** Register NAVIGATE_COMPLETE
  CALL METHOD cl_html-&gt;get_registered_events
    IMPORTING
      events = t_events.
      wa_event-eventid    = cl_gui_html_viewer=&gt;m_id_navigate_complete.
      wa_event-appl_event = 'X'.
  READ TABLE t_events TRANSPORTING NO FIELDS
        WITH KEY eventid = wa_event-eventid.
  IF sy-subrc &lt;&gt; 0.
    APPEND wa_event TO t_events.
  ENDIF.
  CALL METHOD cl_html-&gt;set_registered_events
    EXPORTING
      events = t_events.
SET HANDLER lcl_event_receiver=&gt;handle_navigate_complete FOR cl_html.

*** Build HTML-Code
  CONCATENATE  '&lt;html&gt;'
               '&lt;head&gt;&lt;title&gt;Dropzone&lt;/title&gt;'
               '&lt;/head&gt;'
               '&lt;body bgcolor="#22FF22"&gt;'
               '&lt;p&gt;&lt;font size= 30&gt;hierher mit den Bildern!!&lt;/font&gt;&lt;/p&gt;'
               '&lt;/body&gt;'
               '&lt;/html&gt;'
          INTO html.
  APPEND html TO t_html.

*** load HTML
  CALL METHOD cl_html-&gt;load_data
    IMPORTING
      assigned_url = url
    CHANGING
      data_table   = t_html.

*** Show HTML page
  CALL METHOD cl_html-&gt;show_url
    EXPORTING
      url = url.
ENDFORM.                    " CREATE_OBJECTS</pre>
<p>Der Beitrag <a href="/blog/dragndrop-mit-datei/">Drag&#8217;n&#8217;Drop mit Datei</a> erschien zuerst auf <a href="/">Tricktresor</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>/blog/dragndrop-mit-datei/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
